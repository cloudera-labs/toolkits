{"paragraphs":[{"text":"%md\n# About\n**Lab:** Reset Hive databases and Zeppelin directories for students\n**Objective:** Clean up database and HDFS after or before a class\n\n---","user":"devuser","dateUpdated":"2020-11-11T19:51:01+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{"HOME":""},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>About</h1>\n<p><strong>Lab:</strong> Reset Hive databases and Zeppelin directories for students\n<br  /><strong>Objective:</strong> Clean up database and HDFS after or before a class</p>\n<hr />\n"}]},"apps":[],"jobName":"paragraph_1603769196214_890173215","id":"20181126-092644_1457476546","dateCreated":"2020-10-27T03:26:36+0000","dateStarted":"2020-11-11T19:51:01+0000","dateFinished":"2020-11-11T19:51:01+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:316550"},{"text":"%md\n# Setup","user":"devuser","dateUpdated":"2020-10-27T03:26:36+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Setup</h1>\n"}]},"apps":[],"jobName":"paragraph_1603769196215_300176096","id":"20181201-044336_178705192","dateCreated":"2020-10-27T03:26:36+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:316551"},{"title":"Show databases","text":"%jdbc(hive)\nSHOW DATABASES;\n","user":"devuser","dateUpdated":"2020-11-10T04:30:22+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"database_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"database_name\ndefault\ninformation_schema\nsys\ntelco\n"}]},"apps":[],"jobName":"paragraph_1603769196215_-317165693","id":"20200214-030049_1560217898","dateCreated":"2020-10-27T03:26:36+0000","dateStarted":"2020-11-10T04:30:22+0000","dateFinished":"2020-11-10T04:30:28+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:316552"},{"title":"Drop all managed databases","text":"%jdbc(hive)\nDROP DATABASE IF EXISTS cloudair CASCADE;\nDROP DATABASE IF EXISTS movies CASCADE;\nDROP DATABASE IF EXISTS telco CASCADE;","user":"devuser","dateUpdated":"2020-11-11T19:51:34+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true,"tableHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"ERROR","msg":[{"type":"TEXT","data":"java.sql.SQLException: Error while processing statement: FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.DDLTask. MetaException(message:java.security.AccessControlException: Permission denied: user=hive, access=WRITE, inode=\"/user/zeppelin/hive/name_dev\":zeppelin:hdfs:drwxr-xr-x\n\tat org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.check(FSPermissionChecker.java:399)\n\tat org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkPermission(FSPermissionChecker.java:261)\n\tat org.apache.ranger.authorization.hadoop.RangerHdfsAuthorizer$RangerAccessControlEnforcer.checkDefaultEnforcer(RangerHdfsAuthorizer.java:589)\n\tat org.apache.ranger.authorization.hadoop.RangerHdfsAuthorizer$RangerAccessControlEnforcer.checkPermission(RangerHdfsAuthorizer.java:377)\n\tat org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkPermission(FSPermissionChecker.java:193)\n\tat org.apache.hadoop.hdfs.server.namenode.FSDirectory.checkPermission(FSDirectory.java:1859)\n\tat org.apache.hadoop.hdfs.server.namenode.FSDirectory.checkPermission(FSDirectory.java:1843)\n\tat org.apache.hadoop.hdfs.server.namenode.FSDirectory.checkPathAccess(FSDirectory.java:1793)\n\tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.checkAccess(FSNamesystem.java:7804)\n\tat org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.checkAccess(NameNodeRpcServer.java:2217)\n\tat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.checkAccess(ClientNamenodeProtocolServerSideTranslatorPB.java:1659)\n\tat org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)\n\tat org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)\n\tat org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)\n\tat org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat javax.security.auth.Subject.doAs(Subject.java:422)\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)\n\tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)\n)\n\tat org.apache.hive.jdbc.HiveStatement.waitForOperationToComplete(HiveStatement.java:401)\n\tat org.apache.hive.jdbc.HiveStatement.execute(HiveStatement.java:266)\n\tat org.apache.commons.dbcp2.DelegatingStatement.execute(DelegatingStatement.java:291)\n\tat org.apache.commons.dbcp2.DelegatingStatement.execute(DelegatingStatement.java:291)\n\tat org.apache.zeppelin.jdbc.JDBCInterpreter.executeSql(JDBCInterpreter.java:718)\n\tat org.apache.zeppelin.jdbc.JDBCInterpreter.interpret(JDBCInterpreter.java:801)\n\tat org.apache.zeppelin.interpreter.LazyOpenInterpreter.interpret(LazyOpenInterpreter.java:103)\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreterServer$InterpretJob.jobRun(RemoteInterpreterServer.java:633)\n\tat org.apache.zeppelin.scheduler.Job.run(Job.java:188)\n\tat org.apache.zeppelin.scheduler.ParallelScheduler$JobRunner.run(ParallelScheduler.java:162)\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\tat java.lang.Thread.run(Thread.java:745)\n"}]},"apps":[],"jobName":"paragraph_1603769196215_-85268935","id":"20200214-024819_1212795271","dateCreated":"2020-10-27T03:26:36+0000","dateStarted":"2020-11-10T04:30:54+0000","dateFinished":"2020-11-10T04:30:55+0000","status":"ERROR","progressUpdateIntervalMs":500,"$$hashKey":"object:316553"},{"title":"Validate drop of Databases","text":"%jdbc(hive)\nSHOW DATABASES;\n","user":"devuser","dateUpdated":"2020-11-07T22:18:45+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"database_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"database_name\ndefault\ninformation_schema\nsys\n"}]},"apps":[],"jobName":"paragraph_1603769196215_-1700770192","id":"20200214-030315_579631258","dateCreated":"2020-10-27T03:26:36+0000","dateStarted":"2020-11-07T22:18:45+0000","dateFinished":"2020-11-07T22:18:45+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:316554"},{"title":"Show all tables in default","text":"%jdbc(hive)\nUSE default;\n\nSHOW TABLES;","user":"devuser","dateUpdated":"2020-11-10T04:31:41+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"tab_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}},"1":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"tab_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TABLE","data":"tab_name\ndc_comics_stage\nhbase_dc_comics\nmarvel_comics\nmarvel_comics_stage\n"}]},"apps":[],"jobName":"paragraph_1603769196216_-1762625065","id":"20200214-030421_1621512230","dateCreated":"2020-10-27T03:26:36+0000","dateStarted":"2020-11-10T04:31:41+0000","dateFinished":"2020-11-10T04:31:41+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:316555"},{"title":"Drop tables in default","text":"%jdbc(hive)\nDROP TABLE IF EXISTS dc_comics;\nDROP TABLE IF EXISTS dc_comics_acid;\nDROP TABLE IF EXISTS dc_comics_acid_insert;\nDROP TABLE IF EXISTS dc_comics_parquet;\nDROP TABLE IF EXISTS dc_comics_stage;\nDROP TABLE IF EXISTS hbase_dc_comics;\nDROP TABLE IF EXISTS sample_table;\nDROP TABLE IF EXISTS marvel_comics;\nDROP TABLE IF EXISTS marvel_comics_stage;","user":"devuser","dateUpdated":"2020-11-11T19:51:55+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"}]},"apps":[],"jobName":"paragraph_1603769196216_1574031590","id":"20200214-025331_1929435990","dateCreated":"2020-10-27T03:26:36+0000","dateStarted":"2020-11-10T04:33:00+0000","dateFinished":"2020-11-10T04:33:01+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:316556"},{"title":"Validate drop of default tables","text":"%jdbc(hive)\nSHOW TABLES;\n","user":"devuser","dateUpdated":"2020-11-10T04:33:07+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"tab_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"tab_name\n"}]},"apps":[],"jobName":"paragraph_1603769196216_-1196497692","id":"20200214-030750_892391981","dateCreated":"2020-10-27T03:26:36+0000","dateStarted":"2020-11-10T04:33:07+0000","dateFinished":"2020-11-10T04:33:07+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:316557"},{"title":"Use HDFS to list external tables in /warehouse/tablespace/external/hive","text":"%sh\nhdfs dfs -ls /warehouse/tablespace/external/hive\n","user":"devuser","dateUpdated":"2020-11-07T22:19:29+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Found 11 items\ndrwxr-xr-x+  - hive hive          0 2020-11-07 05:51 /warehouse/tablespace/external/hive/cloudair.db\ndrwxrwxr-x+  - hive hive          0 2020-11-07 21:24 /warehouse/tablespace/external/hive/dc_comics_stage\ndrwxr-xr-x   - hive hive          0 2020-07-14 03:23 /warehouse/tablespace/external/hive/information_schema.db\ndrwxr-xr-x   - hive hive          0 2020-11-07 19:35 /warehouse/tablespace/external/hive/marvel_comics_stage\ndrwxrwxr-x+  - hive hive          0 2020-11-07 22:03 /warehouse/tablespace/external/hive/movie_crew_info_partition\ndrwxrwxr-x+  - hive hive          0 2020-11-07 21:55 /warehouse/tablespace/external/hive/movie_crew_info_stage\ndrwxrwxr-x+  - hive hive          0 2020-11-07 21:55 /warehouse/tablespace/external/hive/movie_crew_stage\ndrwxrwxr-x+  - hive hive          0 2020-11-07 22:07 /warehouse/tablespace/external/hive/movie_title_partition\ndrwxrwxr-x+  - hive hive          0 2020-11-07 22:14 /warehouse/tablespace/external/hive/movie_title_stage\ndrwxrwxr-x+  - hive hive          0 2020-11-07 21:55 /warehouse/tablespace/external/hive/ratings_stage\ndrwxr-xr-t   - hive hive          0 2020-07-14 03:23 /warehouse/tablespace/external/hive/sys.db\n"}]},"apps":[],"jobName":"paragraph_1603769196216_2129172721","id":"20200214-031413_504711676","dateCreated":"2020-10-27T03:26:36+0000","dateStarted":"2020-11-07T22:19:29+0000","dateFinished":"2020-11-07T22:19:31+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:316558"},{"title":"Delete external tables","text":"%sh\nsudo -u hdfs kinit -kt /etc/security/keytabs/hdfs.headless.keytab \"hdfs-cloudair\"\nsudo -u hdfs hdfs dfs -rm -r -skipTrash /warehouse/tablespace/external/hive/cloudair.db\nsudo -u hdfs hdfs dfs -rm -r -skipTrash /warehouse/tablespace/external/hive/dc_comics_stage\nsudo -u hdfs hdfs dfs -rm -r -skipTrash /warehouse/tablespace/external/hive/marvel_comics_stage\nsudo -u hdfs hdfs dfs -rm -r -skipTrash /warehouse/tablespace/external/hive/movie_crew_info_partition\nsudo -u hdfs hdfs dfs -rm -r -skipTrash /warehouse/tablespace/external/hive/movie_crew_info_stage\nsudo -u hdfs hdfs dfs -rm -r -skipTrash /warehouse/tablespace/external/hive/movie_crew_stage\nsudo -u hdfs hdfs dfs -rm -r -skipTrash /warehouse/tablespace/external/hive/movie_title_partition\nsudo -u hdfs hdfs dfs -rm -r -skipTrash /warehouse/tablespace/external/hive/movie_title_stage\nsudo -u hdfs hdfs dfs -rm -r -skipTrash /warehouse/tablespace/external/hive/movies.db\nsudo -u hdfs hdfs dfs -rm -r -skipTrash /warehouse/tablespace/external/hive/ratings_stage\nsudo -u hdfs hdfs dfs -rm -r -skipTrash /warehouse/tablespace/external/hive/telco.db\nsudo -u hdfs hdfs dfs -rm -r -skipTrash /warehouse/tablespace/external/hive/telco_stage.db","user":"devuser","dateUpdated":"2020-11-10T04:33:25+0000","config":{"tableHide":false,"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"ERROR","msg":[{"type":"TEXT","data":"rm: `/warehouse/tablespace/external/hive/cloudair.db': No such file or directory\nDeleted /warehouse/tablespace/external/hive/dc_comics_stage\nDeleted /warehouse/tablespace/external/hive/marvel_comics_stage\nrm: `/warehouse/tablespace/external/hive/movie_crew_info_partition': No such file or directory\nrm: `/warehouse/tablespace/external/hive/movie_crew_info_stage': No such file or directory\nrm: `/warehouse/tablespace/external/hive/movie_crew_stage': No such file or directory\nrm: `/warehouse/tablespace/external/hive/movie_title_partition': No such file or directory\nrm: `/warehouse/tablespace/external/hive/movie_title_stage': No such file or directory\nrm: `/warehouse/tablespace/external/hive/movies.db': No such file or directory\nrm: `/warehouse/tablespace/external/hive/ratings_stage': No such file or directory\nDeleted /warehouse/tablespace/external/hive/telco.db\nrm: `/warehouse/tablespace/external/hive/telco_stage.db': No such file or directory\n"},{"type":"TEXT","data":"ExitValue: 1"}]},"apps":[],"jobName":"paragraph_1603769196216_1097927476","id":"20190605-071552_922371665","dateCreated":"2020-10-27T03:26:36+0000","dateStarted":"2020-11-10T04:33:25+0000","dateFinished":"2020-11-10T04:33:57+0000","status":"ERROR","progressUpdateIntervalMs":500,"$$hashKey":"object:316559"},{"title":"Validate delete of external tables in HDFS","text":"%sh\nhdfs dfs -ls /warehouse/tablespace/external/hive","user":"devuser","dateUpdated":"2020-11-07T22:31:09+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Found 2 items\ndrwxr-xr-x   - hive hive          0 2020-07-14 03:23 /warehouse/tablespace/external/hive/information_schema.db\ndrwxr-xr-t   - hive hive          0 2020-07-14 03:23 /warehouse/tablespace/external/hive/sys.db\n"}]},"apps":[],"jobName":"paragraph_1603769196217_-1917733585","id":"20200214-031442_316638712","dateCreated":"2020-10-27T03:26:36+0000","dateStarted":"2020-11-07T22:31:09+0000","dateFinished":"2020-11-07T22:31:11+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:316560"},{"title":"List the content of the /user/zeppelin directory","text":"%sh\nhdfs dfs -ls /user/zeppelin","user":"devuser","dateUpdated":"2020-11-11T19:56:00+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/sh","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Found 6 items\ndrwx------   - zeppelin hdfs          0 2020-11-11 18:00 /user/zeppelin/.Trash\ndrwx------   - zeppelin hdfs          0 2020-11-07 06:40 /user/zeppelin/.staging\ndrwxr-xr-x   - zeppelin hdfs          0 2020-11-11 18:59 /user/zeppelin/book\ndrwxrwxrwx   - zeppelin hdfs          0 2020-11-11 14:33 /user/zeppelin/conf\ndrwxr-xr-x   - zeppelin hdfs          0 2020-11-09 04:00 /user/zeppelin/hive\ndrwxrwxrwx   - zeppelin hdfs          0 2020-11-11 03:12 /user/zeppelin/notebook\n"}]},"apps":[],"jobName":"paragraph_1605124510066_-688560853","id":"20201111-195510_389900589","dateCreated":"2020-11-11T19:55:10+0000","dateStarted":"2020-11-11T19:56:00+0000","dateFinished":"2020-11-11T19:56:02+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:316561"},{"text":"%md\nCAUTION: Do not delete the directories .staging, conf, hive, or notebooks.\nMost of these directories are created from the Spark notebooks.\nDelete all other directories if you want to reduce the clutter\n","user":"devuser","dateUpdated":"2020-11-11T19:55:58+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>CAUTION: Do not delete the directories .staging, conf, hive, or notebooks.\n<br  />Most of these directories are created from the Spark notebooks.\n<br  />Delete all other directories if you want to reduce the clutter</p>\n"}]},"apps":[],"jobName":"paragraph_1605124549575_-620156217","id":"20201111-195549_1539521079","dateCreated":"2020-11-11T19:55:49+0000","dateStarted":"2020-11-11T19:55:58+0000","dateFinished":"2020-11-11T19:55:58+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:316562"},{"title":"Clean up the /user/zeppelin directory","text":"%sh\nhdfs dfs -rm -r -skipTrash .sparkStaging\nhdfs dfs -rm -r -skipTrash account_device\nhdfs dfs -rm -r -skipTrash account_zip94913\nhdfs dfs -rm -r -skipTrash accountdevice\nhdfs dfs -rm -r -skipTrash base_station.parquet\nhdfs dfs -rm -r -skipTrash books\nhdfs dfs -rm -r -skipTrash latin\nhdfs dfs -rm -r -skipTrash test\nhdfs dfs -rm -r -skipTrash top_device\n","user":"devuser","dateUpdated":"2020-11-11T19:56:30+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/sh","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1605124483035_-1806745544","id":"20201111-195443_324615451","dateCreated":"2020-11-11T19:54:43+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:316563"},{"title":"Clean up the /user/sysadmin directory","text":"%sh\nsudo -u hdfs hdfs dfs -rm -r -skipTrash /user/sysadmin/.sparkStaging\nsudo -u hdfs hdfs dfs -rm -r -skipTrash /user/sysadmin/.staging\nsudo -u hdfs hdfs dfs -rm -r -skipTrash /user/sysadmin/out\nsudo -u hdfs hdfs dfs -rm -r -skipTrash /user/sysadmin/out1\nsudo -u hdfs hdfs dfs -rm -r -skipTrash /user/sysadmin/out2","user":"devuser","dateUpdated":"2020-11-11T20:04:50+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/sh","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Deleted /user/sysadmin/.sparkStaging\nDeleted /user/sysadmin/.staging\nrm: `/user/sysadmin/out': No such file or directory\nDeleted /user/sysadmin/out1\nDeleted /user/sysadmin/out2\nDeleted /user/sysadmin/udemy\nDeleted /user/sysadmin/movie-sims\n"}]},"apps":[],"jobName":"paragraph_1605124836384_861629691","id":"20201111-200036_758584717","dateCreated":"2020-11-11T20:00:36+0000","dateStarted":"2020-11-11T20:04:07+0000","dateFinished":"2020-11-11T20:04:22+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:316564"},{"text":"%md\n# Result\n**You have now:** You have now successfully cleaned up all databases, tables and HDFS.\n\n---","user":"devuser","dateUpdated":"2020-10-27T03:26:36+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Result</h1>\n<p><strong>You have now:</strong> You have now successfully cleaned up all databases, tables and HDFS.</p>\n<hr />\n"}]},"apps":[],"jobName":"paragraph_1603769196217_1626010702","id":"20181126-133507_1472573213","dateCreated":"2020-10-27T03:26:36+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:316565"}],"name":"SETUP/03-Reset_Class","id":"2FMQZY6ZY","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"psql:shared_process":[],"angular:shared_process":[],"sh:shared_process":[],"jdbc:shared_process":[],"spark2:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}