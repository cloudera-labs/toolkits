{"paragraphs":[{"text":"%md\n# About This Lab\n**Objective:** To become familiar with Kafka commands and NiFi.\n**File locations:**\n**Successful outcome:** Master NiFi publisher and consumer.\n**Before you begin:**\n**Related lessons:** Kafka and NiFi\n\n---","user":"devuser","dateUpdated":"2020-11-15T01:48:22+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>About This Lab</h1>\n<p><strong>Objective:</strong> To become familiar with Kafka commands and NiFi.\n<br  /><strong>File locations:</strong>\n<br  /><strong>Successful outcome:</strong> Master NiFi publisher and consumer.\n<br  /><strong>Before you begin:</strong>\n<br  /><strong>Related lessons:</strong> Kafka and NiFi</p>\n<hr />\n"}]},"apps":[],"jobName":"paragraph_1605404801961_-1881927446","id":"20171105-200834_1116095891","dateCreated":"2020-11-15T01:46:41+0000","dateStarted":"2020-11-15T01:48:22+0000","dateFinished":"2020-11-15T01:48:22+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:157254"},{"text":"%md\n# Setup\n---","user":"devuser","dateUpdated":"2020-11-15T01:46:41+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Setup</h1>\n<hr />\n"}]},"apps":[],"jobName":"paragraph_1605404801963_1342683558","id":"20181114-164229_902436001","dateCreated":"2020-11-15T01:46:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:157256"},{"title":"Check the data file for HBase","text":"%sh\nls /var/data/hbase","user":"devuser","dateUpdated":"2020-12-09T21:19:51+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/sh","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"user.json\n"}]},"apps":[],"jobName":"paragraph_1605415836933_-1426991087","id":"20201115-045036_593687926","dateCreated":"2020-11-15T04:50:36+0000","dateStarted":"2020-12-09T21:19:51+0000","dateFinished":"2020-12-09T21:19:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157257"},{"title":"Copy the data file to all three flow nodes ","text":"%sh\nsudo -u sysadmin scp /var/data/hbase/user.json flow01.cloudair.lan:/tmp/user.json\nsudo -u sysadmin scp /var/data/hbase/user.json flow02.cloudair.lan:/tmp/user.json\nsudo -u sysadmin scp /var/data/hbase/user.json flow03.cloudair.lan:/tmp/user.json","user":"devuser","dateUpdated":"2020-12-09T21:21:15+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/sh","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1605415876344_-1006193550","id":"20201115-045116_382616226","dateCreated":"2020-11-15T04:51:16+0000","dateStarted":"2020-12-09T21:21:16+0000","dateFinished":"2020-12-09T21:21:16+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157258"},{"text":"%md\n#### Login","user":"devuser","dateUpdated":"2020-11-15T02:20:32+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h4>Login</h4>\n"}]},"apps":[],"jobName":"paragraph_1605406826605_1246724148","id":"20201115-022026_390662697","dateCreated":"2020-11-15T02:20:26+0000","dateStarted":"2020-11-15T02:20:32+0000","dateFinished":"2020-11-15T02:20:32+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157259"},{"title":"Open two terminals and log on to admin01 in both","text":"%md\nOpen two terminals. We will use one for Kafka and the other for HBase.\n~~~\nssh devuser@admin01\n~~~","user":"devuser","dateUpdated":"2020-12-09T21:33:30+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Open two terminals. We will use one for Kafka and the other for HBase.</p>\n<pre><code>ssh devuser@admin01\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1605404801966_262265987","id":"20171105-200623_656362182","dateCreated":"2020-11-15T01:46:41+0000","dateStarted":"2020-11-20T03:35:13+0000","dateFinished":"2020-11-20T03:35:13+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157260"},{"title":"In terminal 1 kinit as the principal kafka","text":"%md\n~~~sh\nkdestroy\nkinit kafka/EDU\nPassword\nklist\n~~~","user":"devuser","dateUpdated":"2020-12-09T21:37:31+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<pre><code class=\"sh\">kdestroy\nkinit kafka/EDU\nPassword\nklist\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1605404801968_-1889986513","id":"20181206-185011_517182192","dateCreated":"2020-11-15T01:46:41+0000","dateStarted":"2020-12-09T21:37:20+0000","dateFinished":"2020-12-09T21:37:20+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157261"},{"title":"In terminal 1 extend the path to access Kafka commands","text":"%md\n~~~\nexport PATH=\"$PATH:/usr/hdp/current/kafka-broker/bin\"\n~~~","user":"devuser","dateUpdated":"2020-12-09T21:33:15+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<pre><code>export PATH=\"$PATH:/usr/hdp/current/kafka-broker/bin\"\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1605404801970_990035598","id":"20171105-201449_1118165660","dateCreated":"2020-11-15T01:46:41+0000","dateStarted":"2020-11-15T02:44:51+0000","dateFinished":"2020-11-15T02:44:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157262"},{"title":"Ensure the HBaseEvent topic is deleted","text":"%md\n~~~console\nkafka-topics.sh --delete --zookeeper maser01.cloudair.lan:2181 --topic HBaseEvent\n~~~\n\nIf you get an IllegalArgumentException message saying the topic does not exist, that is ok, it just means the topic had already been deleted.","user":"devuser","dateUpdated":"2020-12-09T21:50:02+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","title":true,"editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<pre><code class=\"console\">kafka-topics.sh --delete --zookeeper maser01.cloudair.lan:2181 --topic HBaseEvent\n</code></pre>\n<p>If you get an IllegalArgumentException message saying the topic does not exist, that is ok, it just means the topic had already been deleted.</p>\n"}]},"apps":[],"jobName":"paragraph_1607549734846_-100577999","id":"20201209-213534_1832103598","dateCreated":"2020-12-09T21:35:34+0000","dateStarted":"2020-12-09T21:50:02+0000","dateFinished":"2020-12-09T21:50:02+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157263"},{"text":"%md\n# Lab\n---","user":"devuser","dateUpdated":"2020-11-15T01:46:41+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Lab</h1>\n<hr />\n"}]},"apps":[],"jobName":"paragraph_1605404801965_2119147689","id":"20181114-164844_1661453681","dateCreated":"2020-11-15T01:46:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:157264"},{"text":"%md\n#### Create a topic","user":"devuser","dateUpdated":"2020-11-15T02:45:07+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h4>Create a topic</h4>\n"}]},"apps":[],"jobName":"paragraph_1605406840990_-302607789","id":"20201115-022040_1198397061","dateCreated":"2020-11-15T02:20:40+0000","dateStarted":"2020-11-15T02:45:07+0000","dateFinished":"2020-11-15T02:45:07+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157265"},{"title":"4 - In terminal 1 list the topics","text":"%md\n~~~bash\nkafka-topics.sh --list --zookeeper master01.cloudair.lan:2181\n~~~","user":"devuser","dateUpdated":"2020-12-09T21:37:51+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<pre><code class=\"bash\">kafka-topics.sh --list --zookeeper master01.cloudair.lan:2181\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1605404801972_590527512","id":"20181206-190311_1187608924","dateCreated":"2020-11-15T01:46:41+0000","dateStarted":"2020-12-09T21:37:41+0000","dateFinished":"2020-12-09T21:37:41+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157266"},{"title":"5 - In terminal 1 create a topic, HBaseEvent","text":"%md\n~~~console\nkafka-topics.sh --create --zookeeper master01.cloudair.lan:2181 --replication-factor 3 --partitions 2 --topic HBaseEvent\n~~~","user":"devuser","dateUpdated":"2020-12-09T21:38:23+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<pre><code class=\"console\">kafka-topics.sh --create --zookeeper master01.cloudair.lan:2181 --replication-factor 3 --partitions 2 --topic HBaseEvent\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1605404801974_591149826","id":"20201101-233633_1672498421","dateCreated":"2020-11-15T01:46:41+0000","dateStarted":"2020-12-09T21:37:52+0000","dateFinished":"2020-12-09T21:37:52+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157267"},{"title":"6 - In terminal 1 list the topics","text":"%md\n~~~sh\nkafka-topics.sh --list --zookeeper master01.cloudair.lan:2181\n~~~","user":"devuser","dateUpdated":"2020-12-09T21:38:23+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<pre><code class=\"sh\">kafka-topics.sh --list --zookeeper master01.cloudair.lan:2181\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1605404801977_801991769","id":"20201115-011244_1561460413","dateCreated":"2020-11-15T01:46:41+0000","dateStarted":"2020-12-09T21:38:12+0000","dateFinished":"2020-12-09T21:38:12+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157268"},{"text":"%md\n#### Create HBase table","user":"devuser","dateUpdated":"2020-11-15T02:46:15+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h4>Create HBase table</h4>\n"}]},"apps":[],"jobName":"paragraph_1605408359863_1664976126","id":"20201115-024559_355019198","dateCreated":"2020-11-15T02:45:59+0000","dateStarted":"2020-11-15T02:46:15+0000","dateFinished":"2020-11-15T02:46:15+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157269"},{"title":"7 - In terminal 2 collect a Kerberos ticket","text":"%md\n~~~sh\n#sudo su -l devuser\nkdestroy\nkinit devuser/EDU\nPASSWORD\n~~~","user":"devuser","dateUpdated":"2020-12-09T21:43:45+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","title":true,"editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<pre><code class=\"sh\">#sudo su -l devuser\nkdestroy\nkinit devuser/EDU\nPASSWORD\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1605842564874_1485045814","id":"20201120-032244_1965553375","dateCreated":"2020-11-20T03:22:44+0000","dateStarted":"2020-12-09T21:42:57+0000","dateFinished":"2020-12-09T21:42:57+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157270"},{"title":"7 - In terminal 2 start the HBase shell","text":"%md\n~~~sh\nhbase shell\n~~~","user":"devuser","dateUpdated":"2020-12-09T21:43:45+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","title":true,"editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<pre><code class=\"sh\">hbase shell\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1605407887119_-288503015","id":"20201115-023807_1900551091","dateCreated":"2020-11-15T02:38:07+0000","dateStarted":"2020-12-09T21:43:14+0000","dateFinished":"2020-12-09T21:43:14+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157271"},{"title":"8 - In terminal 2 create the HBase table","text":"%md\n~~~console\nhbase> disable \"user\"\nhbase> drop \"user\"\nhbase> create \"user\",\"cf\"\nhbase> describe \"user\"\nhbase> scan \"user\"\n~~~","user":"devuser","dateUpdated":"2020-12-09T21:44:49+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","title":true,"editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<pre><code class=\"console\">hbase&gt; disable \"user\"\nhbase&gt; drop \"user\"\nhbase&gt; create \"user\",\"cf\"\nhbase&gt; describe \"user\"\nhbase&gt; scan \"user\"\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1605407978005_774321796","id":"20201115-023938_1128194142","dateCreated":"2020-11-15T02:39:38+0000","dateStarted":"2020-12-09T21:44:41+0000","dateFinished":"2020-12-09T21:44:41+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157272"},{"text":"%md\n#### Run the HBase input ","user":"devuser","dateUpdated":"2020-11-15T02:37:50+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h4>Run the HBase input</h4>\n"}]},"apps":[],"jobName":"paragraph_1605406880260_-241466379","id":"20201115-022120_591781734","dateCreated":"2020-11-15T02:21:20+0000","dateStarted":"2020-11-15T02:37:50+0000","dateFinished":"2020-11-15T02:37:50+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157273"},{"title":"9 - In NiFi run the HBase input","text":"%md\nGo to Ambari\nSelect NiFi\nQuicklink NiFi\nEnter the ODB process group\nEnter HBase Grp\nActivate the Controller Services (there are instructions on the NiFi canvas)\nRun the Input into HBase process group","user":"devuser","dateUpdated":"2020-12-09T23:30:00+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Go to Ambari\n<br  />Select NiFi\n<br  />Quicklink NiFi\n<br  />Enter the ODB process group\n<br  />Enter HBase Grp\n<br  />Activate the Controller Services (there are instructions on the NiFi canvas)\n<br  />Run the Input into HBase process group</p>\n"}]},"apps":[],"jobName":"paragraph_1605404801979_2118021480","id":"20201115-011334_1157793862","dateCreated":"2020-11-15T01:46:41+0000","dateStarted":"2020-12-09T23:29:48+0000","dateFinished":"2020-12-09T23:29:48+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157274"},{"title":"10 - In terminal 2  scan the table","text":"%md\n~~~sh\nhbase> scan \"user\"\n~~~","user":"devuser","dateUpdated":"2020-12-09T21:44:11+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","title":true,"editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<pre><code class=\"sh\">hbase&gt; scan \"user\"\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1605407663216_-1605279079","id":"20201115-023423_1313762703","dateCreated":"2020-11-15T02:34:23+0000","dateStarted":"2020-12-09T21:44:11+0000","dateFinished":"2020-12-09T21:44:11+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157275"},{"text":"%md\n#### Run the HBase output","user":"devuser","dateUpdated":"2020-11-15T04:55:10+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h4>Run the HBase output</h4>\n"}]},"apps":[],"jobName":"paragraph_1605408105818_942867065","id":"20201115-024145_1753103175","dateCreated":"2020-11-15T02:41:45+0000","dateStarted":"2020-11-15T04:55:10+0000","dateFinished":"2020-11-15T04:55:10+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157276"},{"title":"11 - In NiFi run the HBase output","text":"%md\nIn NiFi > ODB > HBase Grp:\nRun the HBase output to Kafka process group","user":"devuser","dateUpdated":"2020-12-09T23:34:52+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>In NiFi > ODB > HBase Grp:\n<br  />Run the HBase output to Kafka process group</p>\n"}]},"apps":[],"jobName":"paragraph_1605408124187_1334400827","id":"20201115-024204_1355941150","dateCreated":"2020-11-15T02:42:04+0000","dateStarted":"2020-12-09T23:34:42+0000","dateFinished":"2020-12-09T23:34:42+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157277"},{"text":"%md\n#### Run the NiFi Consumer","user":"devuser","dateUpdated":"2020-11-15T02:22:10+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h4>Run the NiFi Consumer</h4>\n"}]},"apps":[],"jobName":"paragraph_1605406921425_1762194908","id":"20201115-022201_1987584410","dateCreated":"2020-11-15T02:22:01+0000","dateStarted":"2020-11-15T02:22:10+0000","dateFinished":"2020-11-15T02:22:10+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157278"},{"title":"12 - In terminal 2 start the consumer to receive messages","text":"%md\nStart consumer to receive messages\n~~~sh\nkafka-console-consumer.sh --bootstrap-server flow01.cloudair.lan:6667 --topic HBaseEvent --from-beginning\n~~~\n\nSecured consumer\n~~~sh\nkafka-console-consumer.sh --bootstrap-server flow01.cloudair.lan:6668 --topic HBaseEvent --from-beginning --consumer.config /var/local/conf/client-ssl.properties\n~~~","user":"devuser","dateUpdated":"2020-12-09T21:45:11+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Start consumer to receive messages</p>\n<pre><code class=\"sh\">kafka-console-consumer.sh --bootstrap-server flow01.cloudair.lan:6667 --topic HBaseEvent --from-beginning\n</code></pre>\n<p>Secured consumer</p>\n<pre><code class=\"sh\">kafka-console-consumer.sh --bootstrap-server flow01.cloudair.lan:6668 --topic HBaseEvent --from-beginning --consumer.config /var/local/conf/client-ssl.properties\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1605404801983_-1515856457","id":"20201115-013637_1389674409","dateCreated":"2020-11-15T01:46:41+0000","dateStarted":"2020-12-09T21:45:01+0000","dateFinished":"2020-12-09T21:45:01+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157279"},{"text":"%md\n# Reset","user":"devuser","dateUpdated":"2020-11-15T04:40:48+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Reset</h1>\n"}]},"apps":[],"jobName":"paragraph_1605406953014_1564186417","id":"20201115-022233_674902408","dateCreated":"2020-11-15T02:22:33+0000","dateStarted":"2020-11-15T04:40:48+0000","dateFinished":"2020-11-15T04:40:48+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157280"},{"title":"11 - In NiFi stop both the dataflow for the HBase input and the output","text":"%md\nOn the NiFi canvas select both dataflows and issue a stop\n","user":"devuser","dateUpdated":"2020-11-15T04:41:18+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>On the NiFi canvas select both dataflows and issue a stop</p>\n"}]},"apps":[],"jobName":"paragraph_1605404801988_-1107134293","id":"20201115-014008_1929974390","dateCreated":"2020-11-15T01:46:41+0000","dateStarted":"2020-11-15T04:41:18+0000","dateFinished":"2020-11-15T04:41:18+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157281"},{"title":"12 - In terminal 1 stop the consumer","text":"%md\nUse Cnt-C to stop the Kafka consumer\n","user":"devuser","dateUpdated":"2020-11-15T04:41:21+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Use Cnt-C to stop the Kafka consumer</p>\n"}]},"apps":[],"jobName":"paragraph_1605404801990_-1165542391","id":"20201115-014233_890919620","dateCreated":"2020-11-15T01:46:41+0000","dateStarted":"2020-11-15T04:41:21+0000","dateFinished":"2020-11-15T04:41:21+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157282"},{"title":"13 - In terminal 1 delete the topic","text":"%md\n~~~sh\nkafka-topics.sh --zookeeper master01.cloudair.lan:2181 --delete --topic HBaseEvent\n~~~\n","user":"devuser","dateUpdated":"2020-12-09T21:45:48+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<pre><code class=\"sh\">kafka-topics.sh --zookeeper master01.cloudair.lan:2181 --delete --topic HBaseEvent\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1605407079982_569795615","id":"20201115-022439_828534161","dateCreated":"2020-11-15T02:24:39+0000","dateStarted":"2020-12-09T21:45:33+0000","dateFinished":"2020-12-09T21:45:33+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157283"},{"title":"14 - In terminal 2 quit the HBase shell","text":"%md\n~~~sh\nhbase> quit\n~~~","user":"devuser","dateUpdated":"2020-12-09T21:45:48+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","title":true,"editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<pre><code class=\"sh\">hbase&gt; quit\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1605408613821_1203952650","id":"20201115-025013_740207586","dateCreated":"2020-11-15T02:50:13+0000","dateStarted":"2020-12-09T21:45:37+0000","dateFinished":"2020-12-09T21:45:37+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157284"},{"text":"%md\n# Exercise","user":"devuser","dateUpdated":"2020-11-29T20:17:55+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Exercise</h1>\n"}]},"apps":[],"jobName":"paragraph_1606681057564_-628115518","id":"20201129-201737_1780907020","dateCreated":"2020-11-29T20:17:37+0000","dateStarted":"2020-11-29T20:17:43+0000","dateFinished":"2020-11-29T20:17:43+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157285"},{"text":"%md\n# Result\n**You have now:** You have now create a topic and published/consumed messages from this topic.\n\n---","user":"devuser","dateUpdated":"2020-11-29T20:17:42+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Result</h1>\n<p><strong>You have now:</strong> You have now create a topic and published/consumed messages from this topic.</p>\n<hr />\n"}]},"apps":[],"jobName":"paragraph_1606681043271_-897620130","id":"20201129-201723_1859995997","dateCreated":"2020-11-29T20:17:23+0000","dateStarted":"2020-11-29T20:17:32+0000","dateFinished":"2020-11-29T20:17:32+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:157286"}],"name":"ODB/02-HBase_NiFi_Kafka","id":"2FR9SGKGH","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"sh:shared_process":[],"jdbc:shared_process":[],"spark2:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}