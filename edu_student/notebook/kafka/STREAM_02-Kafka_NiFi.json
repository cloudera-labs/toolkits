{"paragraphs":[{"text":"%md\n# About This Lab\n**Objective:** To become familiar with Kafka commands and NiFi.\n**File locations:**\n**Successful outcome:** Master NiFi publisher and consumer.\n**Before you begin:**\n**Related lessons:** Kafka and NiFi\n\n---","user":"devuser","dateUpdated":"2020-11-15T05:04:03+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>About This Lab</h1>\n<p><strong>Objective:</strong> To become familiar with Kafka commands and NiFi.\n<br  /><strong>File locations:</strong>\n<br  /><strong>Successful outcome:</strong> Master NiFi publisher and consumer.\n<br  /><strong>Before you begin:</strong>\n<br  /><strong>Related lessons:</strong> Kafka and NiFi</p>\n<hr />\n"}]},"apps":[],"jobName":"paragraph_1605416643626_876888796","id":"20171105-200834_1116095891","dateCreated":"2020-11-15T05:04:03+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:164511"},{"text":"%md\n# Setup\n---","user":"devuser","dateUpdated":"2020-11-15T05:04:03+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Setup</h1>\n<hr />\n"}]},"apps":[],"jobName":"paragraph_1605416643628_-416072353","id":"20181114-164229_902436001","dateCreated":"2020-11-15T05:04:03+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:164513"},{"text":"%md\n#### Login","user":"devuser","dateUpdated":"2020-11-15T05:04:03+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h4>Login</h4>\n"}]},"apps":[],"jobName":"paragraph_1605416643632_1949907188","id":"20201115-022026_390662697","dateCreated":"2020-11-15T05:04:03+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:164514"},{"title":"Open two terminals and login","text":"%md\nOpen two terminals. We will use one for the publisher and the other for the consumer.\n~~~\nssh sysadmin@admin01\n~~~","user":"devuser","dateUpdated":"2020-12-10T21:42:11+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Open two terminals. We will use one for the publisher and the other for the consumer.</p>\n<pre><code>ssh sysadmin@admin01\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1605416643632_189817852","id":"20171105-200623_656362182","dateCreated":"2020-11-15T05:04:03+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:164515"},{"title":"In terminal 1 kinit as the principal kafka","text":"%md\n~~~\nkinit kafka/EDU\nPassword\n~~~","user":"devuser","dateUpdated":"2020-12-10T22:21:30+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":false,"fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<pre><code>ssh sysadmin@admin01\nkinit kafka/EDU\nPassword\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1605416643633_1798174456","id":"20181206-185011_517182192","dateCreated":"2020-11-15T05:04:03+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:164516"},{"title":"In both terminals extend the path to access Kafka commands","text":"%md\n~~~\nexport PATH=\"$PATH:/usr/hdp/current/kafka-broker/bin\"\n~~~","user":"devuser","dateUpdated":"2020-12-10T21:42:01+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<pre><code>export PATH=\"$PATH:/usr/hdp/current/kafka-broker/bin\"\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1605416643633_1653495632","id":"20171105-201449_1118165660","dateCreated":"2020-11-15T05:04:03+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:164517"},{"title":"Delete topic NiFiLogEvent","text":"%md\n~~~\nkafka-topics.sh --zookeeper master01.cloudair.lan:2181 --delete --topic NiFiLogEvent\n~~~","user":"devuser","dateUpdated":"2020-12-07T21:27:45+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","title":true,"editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<pre><code>kafka-topics.sh --zookeeper master01.cloudair.lan:2181 --delete --topic NiFiLogEvent\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1607376384888_-123787361","id":"20201207-212624_1501494118","dateCreated":"2020-12-07T21:26:24+0000","dateStarted":"2020-12-07T21:27:45+0000","dateFinished":"2020-12-07T21:27:45+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:164518"},{"text":"%md\n# Lab\n---","user":"devuser","dateUpdated":"2020-11-15T05:04:03+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Lab</h1>\n<hr />\n"}]},"apps":[],"jobName":"paragraph_1605416643630_843420521","id":"20181114-164844_1661453681","dateCreated":"2020-11-15T05:04:03+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:164519"},{"text":"%md\n#### Create a topic","user":"devuser","dateUpdated":"2020-11-15T05:04:03+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h4>Create a topic</h4>\n"}]},"apps":[],"jobName":"paragraph_1605416643634_-1981170174","id":"20201115-022040_1198397061","dateCreated":"2020-11-15T05:04:03+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:164520"},{"title":"1 - In terminal 1 list the topics","text":"%md\n~~~\nkafka-topics.sh --list --zookeeper master01.cloudair.lan:2181\n~~~","user":"devuser","dateUpdated":"2020-12-11T00:06:07+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<pre><code>kafka-topics.sh --list --zookeeper master01.cloudair.lan:2181\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1605416643635_187012910","id":"20181206-190311_1187608924","dateCreated":"2020-11-15T05:04:03+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:164521"},{"title":"2 - In terminal 1 create a topic NiFiLogEvent","text":"%md\n~~~\nkafka-topics.sh --create --zookeeper master01.cloudair.lan:2181 --replication-factor 3 --partitions 2 --topic NiFiLogEvent\n~~~","user":"devuser","dateUpdated":"2020-12-11T00:06:11+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<pre><code>kafka-topics.sh --create --zookeeper master01.cloudair.lan:2181 --replication-factor 3 --partitions 2 --topic NiFiLogEvent\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1605416643635_-781924902","id":"20201101-233633_1672498421","dateCreated":"2020-11-15T05:04:03+0000","dateStarted":"2020-11-15T05:07:43+0000","dateFinished":"2020-11-15T05:07:43+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:164522"},{"title":"3 - In terminal 1 list the topics","text":"%md\n~~~\nkafka-topics.sh --list --zookeeper master01.cloudair.lan:2181\n~~~","user":"devuser","dateUpdated":"2020-12-11T00:06:15+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<pre><code>kafka-topics.sh --list --zookeeper master01.cloudair.lan:2181\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1605416643636_-798489953","id":"20201115-011244_1561460413","dateCreated":"2020-11-15T05:04:03+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:164523"},{"text":"%md\n#### Publish to the topic","user":"devuser","dateUpdated":"2020-11-15T05:08:47+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h4>Publish to the topic</h4>\n"}]},"apps":[],"jobName":"paragraph_1605416643636_-787888710","id":"20201115-024559_355019198","dateCreated":"2020-11-15T05:04:03+0000","dateStarted":"2020-11-15T05:08:47+0000","dateFinished":"2020-11-15T05:08:47+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:164524"},{"title":"4 - Use NiFi to publish to the topic","text":"%md\n- Go to Ambari\n- Select NiFi\n- Select Quicklink to NiFi\n- Enter the `STREAM` process group\n- Enter the `Stream to and from Kafka` process group","user":"devuser","dateUpdated":"2020-12-11T21:34:43+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<ul>\n<li>Go to Ambari</li>\n<li>Select NiFi</li>\n<li>Select Quicklink to NiFi</li>\n<li>Enter the <code>STREAM</code> process group</li>\n<li>Enter the <code>Stream to and from Kafka</code> process group</li>\n</ul>\n"}]},"apps":[],"jobName":"paragraph_1605416643637_-2030466055","id":"20201115-023807_1900551091","dateCreated":"2020-11-15T05:04:03+0000","dateStarted":"2020-12-11T21:34:43+0000","dateFinished":"2020-12-11T21:34:43+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:164525"},{"title":"5 - Enable the Controller Services in NiFi","text":"%md\n- Right-click the canvas\n- Select Configure\n- For all services:\n    - click the lightning-bolt icon\n    - select Enable in the pop-up window\n    - once the service has been enabled, close the window\n- Once all services have been enabled, return to the canvas","user":"devuser","dateUpdated":"2020-12-11T00:06:22+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","title":true,"tableHide":false,"editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<ul>\n<li>Right-click the canvas</li>\n<li>Select Configure</li>\n<li>For all services:<ul>\n<li>click the lightning-bolt icon</li>\n<li>select Enable in the pop-up window</li>\n<li>once the service has been enabled, close the window</li>\n</ul>\n</li>\n<li>Once all services have been enabled, return to the canvas</li>\n</ul>\n"}]},"apps":[],"jobName":"paragraph_1607379074590_-893731665","id":"20201207-221114_29713868","dateCreated":"2020-12-07T22:11:14+0000","dateStarted":"2020-12-10T21:51:33+0000","dateFinished":"2020-12-10T21:51:33+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:164526"},{"title":"6 - Run the NiFi publisher","text":"%md\nRun the `Publish to NiFiLogEvent` process group","user":"devuser","dateUpdated":"2020-12-11T00:06:27+0000","config":{"tableHide":true,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Run the Testing Kafka topic HelloWorld process group</p>\n"}]},"apps":[],"jobName":"paragraph_1605416643637_290390366","id":"20201115-023938_1128194142","dateCreated":"2020-11-15T05:04:03+0000","dateStarted":"2020-12-07T21:32:34+0000","dateFinished":"2020-12-07T21:32:34+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:164527"},{"text":"%md\n#### Consume from the topic","user":"devuser","dateUpdated":"2020-11-15T05:12:02+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h4>Consume from the topic</h4>\n"}]},"apps":[],"jobName":"paragraph_1605416643638_430381634","id":"20201115-022120_591781734","dateCreated":"2020-11-15T05:04:03+0000","dateStarted":"2020-11-15T05:12:02+0000","dateFinished":"2020-11-15T05:12:02+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:164528"},{"title":"7 - In terminal 2 consume from the topic","text":"%md\n~~~\nkafka-console-consumer.sh --bootstrap-server flow01.cloudair.lan:6668 --topic NiFiLogEvent --from-beginning --consumer.config /var/local/conf/client-ssl.properties\n~~~","user":"devuser","dateUpdated":"2020-12-11T00:06:30+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<pre><code>kafka-console-consumer.sh --bootstrap-server flow01.cloudair.lan:6668 --topic NiFiLogEvent --from-beginning --consumer.config /var/local/conf/client-ssl.properties\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1605417084336_1081741352","id":"20201115-051124_472470945","dateCreated":"2020-11-15T05:11:24+0000","dateStarted":"2020-12-10T21:53:52+0000","dateFinished":"2020-12-10T21:53:52+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:164529"},{"text":"%md\n#### Push data to HDFS\n","user":"devuser","dateUpdated":"2020-11-15T05:16:39+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h4>Push data to HDFS</h4>\n"}]},"apps":[],"jobName":"paragraph_1605417133923_1605466476","id":"20201115-051213_1072651366","dateCreated":"2020-11-15T05:12:13+0000","dateStarted":"2020-11-15T05:16:39+0000","dateFinished":"2020-11-15T05:16:39+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:164530"},{"title":"8 - In NiFi run the NiFi consumer","text":"%md\nRun the `Consume from NiFiLogEvent` process group","user":"devuser","dateUpdated":"2020-12-11T00:09:50+0000","config":{"tableHide":true,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Unsecured start producer to send messages</p>\n<pre><code>kafka-console-producer.sh --broker-list flow01.cloudair.lan:6667 --topic HelloWorld\n</code></pre>\n<p>Secured start producer to send messages</p>\n<pre><code>kafka-console-producer.sh --broker-list flow01.cloudair.lan:6668 --topic HelloWorld --producer.config /var/local/conf/client-ssl.properties\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1605416643639_-314337187","id":"20201115-011334_1157793862","dateCreated":"2020-11-15T05:04:03+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:164531"},{"title":"9 - Check the data in HDFS","text":"%md\nGo to Ambari\nSelect Files View\nNavigate to /tmp/nifilogevent\nSelect datafile\nOpen","user":"devuser","dateUpdated":"2020-12-11T00:06:38+0000","config":{"tableHide":true,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Go to Ambari\n<br  />Select File View\n<br  />Navigate to /tmp/nifilogevent\n<br  />Select datafile\n<br  />Open</p>\n"}]},"apps":[],"jobName":"paragraph_1605416643639_217342818","id":"20201115-023423_1313762703","dateCreated":"2020-11-15T05:04:03+0000","dateStarted":"2020-11-15T05:14:21+0000","dateFinished":"2020-11-15T05:14:21+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:164532"},{"text":"%md\n# Reset","user":"devuser","dateUpdated":"2020-11-15T05:04:03+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Reset</h1>\n"}]},"apps":[],"jobName":"paragraph_1605416643642_2023854889","id":"20201115-022233_674902408","dateCreated":"2020-11-15T05:04:03+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:164533"},{"title":"In NiFi stop both the dataflows","text":"%md\nOn the NiFi canvas select both dataflows and issue a stop","user":"devuser","dateUpdated":"2020-12-07T22:27:51+0000","config":{"tableHide":true,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>On the NiFi canvas select both dataflows and issue a stop</p>\n"}]},"apps":[],"jobName":"paragraph_1605416643642_-898920391","id":"20201115-014008_1929974390","dateCreated":"2020-11-15T05:04:03+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:164534"},{"title":"In terminal 2 stop the consumer","text":"%md\nUse Ctrl-C to stop the Kafka consumer","user":"devuser","dateUpdated":"2020-12-07T22:27:33+0000","config":{"tableHide":true,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Use Cnt-C to stop the Kafka consumer</p>\n"}]},"apps":[],"jobName":"paragraph_1605416643643_-665367184","id":"20201115-014233_890919620","dateCreated":"2020-11-15T05:04:03+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:164535"},{"title":"In terminal 1 delete the topic","text":"%md\n~~~\nkafka-topics.sh --zookeeper master01.cloudair.lan:2181 --delete --topic NiFiLogEvent\n~~~","user":"devuser","dateUpdated":"2020-12-10T21:55:28+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<pre><code>kafka-topics.sh --zookeeper master01.cloudair.lan:2181 --delete --topic NiFiLogEvent\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1605416643643_-1796115743","id":"20201115-022439_828534161","dateCreated":"2020-11-15T05:04:03+0000","dateStarted":"2020-12-10T21:55:18+0000","dateFinished":"2020-12-10T21:55:18+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:164536"},{"text":"\n%sh\nsudo -u hdfs kinit -kt /etc/security/keytabs/hdfs.headless.keytab hdfs-cloudair\nsudo -u hdfs klist\nsudo -u hdfs hdfs dfs -rm -r -skipTrash /tmp/nifilogevent","user":"devuser","dateUpdated":"2020-12-10T22:19:30+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/sh"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Deleted /tmp/nifilogevent\n"}]},"apps":[],"jobName":"paragraph_1607637494078_508518054","id":"20201210-215814_1824404865","dateCreated":"2020-12-10T21:58:14+0000","dateStarted":"2020-12-10T22:19:08+0000","dateFinished":"2020-12-10T22:19:10+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:164537"},{"text":"%md\n# Exercise","user":"devuser","dateUpdated":"2020-12-07T21:18:53+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Exercise</h1>\n"}]},"apps":[],"jobName":"paragraph_1607375917194_-959336431","id":"20201207-211837_1861158820","dateCreated":"2020-12-07T21:18:37+0000","dateStarted":"2020-12-07T21:18:43+0000","dateFinished":"2020-12-07T21:18:43+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:164538"},{"text":"%md\n#### Create a topic","user":"devuser","dateUpdated":"2020-12-11T00:08:01+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h4>Create a topic</h4>\n"}]},"apps":[],"jobName":"paragraph_1607645264340_888519","id":"20201211-000744_1767456105","dateCreated":"2020-12-11T00:07:44+0000","dateStarted":"2020-12-11T00:07:50+0000","dateFinished":"2020-12-11T00:07:50+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:164539"},{"title":"1 - In terminal 1 list the topics","text":"","user":"devuser","dateUpdated":"2020-12-11T00:06:51+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1607375925655_-1618728141","id":"20201207-211845_550394303","dateCreated":"2020-12-07T21:18:45+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:164540"},{"title":"2 - In terminal 1 create a topic NiFiLogEvent","text":"","user":"devuser","dateUpdated":"2020-12-11T00:07:03+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1607375939063_815093708","id":"20201207-211859_525770416","dateCreated":"2020-12-07T21:18:59+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:164541"},{"title":"3 - In terminal 1 list the topics","text":"","user":"devuser","dateUpdated":"2020-12-11T00:07:28+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1607375936434_-1972087371","id":"20201207-211856_699337785","dateCreated":"2020-12-07T21:18:56+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:164542"},{"text":"%md\n#### Publish to the topic","user":"devuser","dateUpdated":"2020-12-11T00:07:38+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h4>Publish to the topic</h4>\n"}]},"apps":[],"jobName":"paragraph_1607645248084_916719543","id":"20201211-000728_367231585","dateCreated":"2020-12-11T00:07:28+0000","dateStarted":"2020-12-11T00:07:38+0000","dateFinished":"2020-12-11T00:07:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:164543"},{"title":"4 - Use NiFi to publish to the topic","text":"","user":"devuser","dateUpdated":"2020-12-11T00:08:05+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1607645236464_456043753","id":"20201211-000716_1752444423","dateCreated":"2020-12-11T00:07:16+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:164544"},{"title":"5 - Enable the Controller Services in NiFi","text":"","user":"devuser","dateUpdated":"2020-12-11T00:08:20+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1607645233007_-1709694347","id":"20201211-000713_1215391425","dateCreated":"2020-12-11T00:07:13+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:164545"},{"title":"6 - Run the NiFi publisher","text":"","user":"devuser","dateUpdated":"2020-12-11T00:08:30+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1607645230466_128735962","id":"20201211-000710_2049070288","dateCreated":"2020-12-11T00:07:10+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:164546"},{"text":"%md\n#### Consume from the topic","user":"devuser","dateUpdated":"2020-12-11T00:08:59+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h4>Consume from the topic</h4>\n"}]},"apps":[],"jobName":"paragraph_1607645327024_-1042754484","id":"20201211-000847_823168076","dateCreated":"2020-12-11T00:08:47+0000","dateStarted":"2020-12-11T00:08:59+0000","dateFinished":"2020-12-11T00:08:59+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:164547"},{"title":"7 - In terminal 2 consume from the topic","text":"","user":"devuser","dateUpdated":"2020-12-11T00:09:10+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1607645227978_1111969733","id":"20201211-000707_243701802","dateCreated":"2020-12-11T00:07:07+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:164548"},{"text":"%md\n#### Push data to HDFS","user":"devuser","dateUpdated":"2020-12-11T00:09:21+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h4>Push data to HDFS</h4>\n"}]},"apps":[],"jobName":"paragraph_1607645351777_1146532844","id":"20201211-000911_89369583","dateCreated":"2020-12-11T00:09:11+0000","dateStarted":"2020-12-11T00:09:21+0000","dateFinished":"2020-12-11T00:09:21+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:164549"},{"title":"8 - In NiFi run the NiFi consumer","text":"","user":"devuser","dateUpdated":"2020-12-11T00:09:35+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1607645325222_-1510299800","id":"20201211-000845_1090626887","dateCreated":"2020-12-11T00:08:45+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:164550"},{"title":"9 - Check the data in HDFS","text":"","user":"devuser","dateUpdated":"2020-12-11T00:09:45+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1607645322350_1526101536","id":"20201211-000842_1668779307","dateCreated":"2020-12-11T00:08:42+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:164551"},{"text":"%md\n# Result\n**You have now:** You have now create a topic and published/consumed messages from this topic.\n\n---","user":"devuser","dateUpdated":"2020-12-07T21:18:11+0000","config":{"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"results":{},"enabled":true,"editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Result</h1>\n<p><strong>You have now:</strong> You have now create a topic and published/consumed messages from this topic.</p>\n<hr />\n"}]},"apps":[],"jobName":"paragraph_1605416643645_331770536","id":"20181207-095756_1112890944","dateCreated":"2020-11-15T05:04:03+0000","dateStarted":"2020-12-07T21:18:01+0000","dateFinished":"2020-12-07T21:18:01+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:164552"}],"name":"STREAM/02-Kafka_NiFi","id":"2FPM7SA6U","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"sh:shared_process":[],"jdbc:shared_process":[],"spark2:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}