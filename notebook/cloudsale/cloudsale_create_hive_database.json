{"paragraphs":[{"text":"%md\n# About This Exercise\n**Title:** Create Hive database clouddev\n**Objective:** \n        Create a Hive staging database cloudsale_stage\n        Create a Hive database cloudsale\n\n**File locations:** No data\n**Successful outcome:** A Hive database cloudsale\n**Before you begin:** N/A\n**Related lessons:** Ranger","user":"diego_deng","dateUpdated":"2022-04-03T16:12:21-0700","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>About This Exercise</h1>\n<p><strong>Title:</strong> Create Hive database clouddev\n<br  /><strong>Objective:</strong></p>\n<pre><code>    Create a Hive staging database cloudsale_stage\n    Create a Hive database cloudsale\n</code></pre>\n<p><strong>File locations:</strong> No data\n<br  /><strong>Successful outcome:</strong> A Hive database cloudsale\n<br  /><strong>Before you begin:</strong> N/A\n<br  /><strong>Related lessons:</strong> Ranger</p>\n"}]},"apps":[],"jobName":"paragraph_1649027541538_-1452791368","id":"20181126-092644_1457476546","dateCreated":"2022-04-03T16:12:21-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:116"},{"text":"%md\n# Setup","user":"diego_deng","dateUpdated":"2022-04-03T16:12:21-0700","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Setup</h1>\n"}]},"apps":[],"jobName":"paragraph_1649027541538_-1728281638","id":"20181201-044336_178705192","dateCreated":"2022-04-03T16:12:21-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:117"},{"title":"1 - Validate data engineer user","text":"%sh\n\necho BadPass@1 | su -l diego_deng -c 'klist'\n","user":"diego_deng","dateUpdated":"2022-04-03T16:13:47-0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Password: Ticket cache: FILE:/tmp/krb5cc_213600006_BlCU1p\nDefault principal: diego_deng@EXAMPLE.COM\n\nValid starting       Expires              Service principal\n04/03/2022 16:13:34  04/04/2022 16:13:34  krbtgt/EXAMPLE.COM@EXAMPLE.COM\n\trenew until 04/10/2022 16:13:34\n"}]},"apps":[],"jobName":"paragraph_1649027541538_-1956802235","id":"20210502-211214_424378971","dateCreated":"2022-04-03T16:12:21-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:118","dateFinished":"2022-04-03T16:13:34-0700","dateStarted":"2022-04-03T16:13:34-0700"},{"text":"%md\n#Exercise\n","user":"diego_deng","dateUpdated":"2022-04-03T16:12:21-0700","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Exercise</h1>\n"}]},"apps":[],"jobName":"paragraph_1649027541539_-866890241","id":"20211017-151821_2147248195","dateCreated":"2022-04-03T16:12:21-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:119"},{"title":"2 - Check status databases","text":"%jdbc(hive)\n\nSHOW DATABASES;\n","user":"diego_deng","dateUpdated":"2022-04-03T16:16:50-0700","config":{"tableHide":false,"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"database_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"database_name\nclouddev\nclouddev_stage\ndefault\ninformation_schema\nsys\n"}]},"apps":[],"jobName":"paragraph_1649027541539_1992708838","id":"20211021-193059_1425107750","dateCreated":"2022-04-03T16:12:21-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:120","dateFinished":"2022-04-03T16:16:55-0700","dateStarted":"2022-04-03T16:16:50-0700"},{"title":"3 - Create hive database for cloudsale_stage","text":"%jdbc(hive)\n\nDROP DATABASE IF EXISTS cloudsale_stage CASCADE;\n\nCREATE DATABASE cloudsale_stage \nLOCATION '/tenant/cloudsale/warehouse/tablespace/external/hive';\n\nALTER DATABASE cloudsale_stage SET MANAGEDLOCATION 'hdfs://my-name-service/tenant/cloudsale/warehouse/tablespace/managed/hive/cloudsale_stage.db';\n\nUSE cloudsale_stage;\n","user":"diego_deng","dateUpdated":"2022-04-03T16:17:08-0700","config":{"tableHide":false,"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"}]},"apps":[],"jobName":"paragraph_1649027541539_-1783393807","id":"20200522-200304_45153463","dateCreated":"2022-04-03T16:12:21-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:121","dateFinished":"2022-04-03T16:17:09-0700","dateStarted":"2022-04-03T16:17:08-0700"},{"text":"%md\n\n#### Hive Database Property MANAGEDLOCATION\n\nThe property MANAGEDLOCATION must be set to a URI when you specify an alternate location for a managed database.\nDo NOT set LOCATION and MANAGEDLOCATION to the same HDFS Path. This will result in an error.\nIn Hive_on_Tez you must add the property metastore.warehouse.tenant.colocation=true to Hive Service Advanced Configuration \n(hive-site.xml).\n","user":"diego_deng","dateUpdated":"2022-04-03T16:12:21-0700","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h4>Hive Database Property MANAGEDLOCATION</h4>\n<p>The property MANAGEDLOCATION must be set to a URI when you specify an alternate location for a managed database.\n<br  />Do NOT set LOCATION and MANAGEDLOCATION to the same HDFS Path. This will result in an error.\n<br  />In Hive_on_Tez you must add the property metastore.warehouse.tenant.colocation=true to Hive Service Advanced Configuration\n<br  />(hive-site.xml).</p>\n"}]},"apps":[],"jobName":"paragraph_1649027541540_-1806419170","id":"20220312-120449_446655648","dateCreated":"2022-04-03T16:12:21-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:122"},{"title":"4 - Create table cloudsale_stage.consent_data","text":"%jdbc(hive)\n\nDROP TABLE IF EXISTS cloudsale_stage.consent_data;\n\nCREATE EXTERNAL TABLE IF NOT EXISTS cloudsale_stage.consent_data(\n  country_code STRING,\n  country STRING,\n  insurance_id INT,\n  marketing_consent STRING,\n  marketing_consent_start_date DATE,\n  loyalty_consent STRING,\n  loyalty_consent_start_date DATE,\n  third_party_consent STRING,\n  third_party_consent_start_date DATE)\nROW FORMAT DELIMITED\nFIELDS TERMINATED BY ','\nLOCATION '/tenant/cloudsale/warehouse/tablespace/external/hive/cloudsale_stage.db/consent_data';\n\nALTER TABLE cloudsale_stage.consent_data\nSET TBLPROPERTIES (\"skip.header.line.count\"=\"1\");\n","user":"diego_deng","dateUpdated":"2022-04-03T16:17:23-0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"}]},"apps":[],"jobName":"paragraph_1649027541540_-1443245593","id":"20211021-193509_429242837","dateCreated":"2022-04-03T16:12:21-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:123","dateFinished":"2022-04-03T16:17:24-0700","dateStarted":"2022-04-03T16:17:23-0700"},{"title":"5 - Create table cloudsale_stage.eu_country","text":"%jdbc(hive)\n\nDROP TABLE IF EXISTS cloudsale_stage.eu_country;\n\nCREATE EXTERNAL TABLE cloudsale_stage.eu_country(\n  country_name STRING,\n  country_code STRING,\n  region STRING)\nROW FORMAT DELIMITED\nFIELDS TERMINATED BY ','\nLOCATION '/tenant/cloudsale/warehouse/tablespace/external/hive/cloudsale_stage.db/eu_country';\n\nALTER TABLE cloudsale_stage.eu_country\nSET TBLPROPERTIES (\"skip.header.line.count\"=\"1\");\n","user":"diego_deng","dateUpdated":"2022-04-03T16:17:31-0700","config":{"tableHide":false,"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"}]},"apps":[],"jobName":"paragraph_1649027541540_422204767","id":"20210502-214603_2023028012","dateCreated":"2022-04-03T16:12:21-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:124","dateFinished":"2022-04-03T16:17:32-0700","dateStarted":"2022-04-03T16:17:31-0700"},{"title":"6 - Create table cloudsale_stage.us_customer","text":"%jdbc(hive)\n\nDROP TABLE IF EXISTS cloudsale_stage.us_customer;\n\nCREATE EXTERNAL TABLE cloudsale_stage.us_customer(\n    customer_id INT,\n    gender STRING,\n    title STRING,\n    first_name STRING,\n    middle_initial STRING,\n    last_name STRING,\n    address STRING,\n    city STRING,\n    state_code STRING,\n    state STRING,\n    zip_code STRING,\n    country_code STRING,\n    country STRING,\n    email STRING,\n    username STRING,\n    password STRING,\n    telephone STRING,\n    telephone_country_code STRING,\n    mother_maiden STRING,\n    birthday DATE,\n    age INT,\n    tropical_zodiac STRING,\n    cc_type STRING,\n    cc_number STRING,\n    cvv2 INT,\n    cc_expires DATE,\n    national_id STRING,\n    mrn STRING,\n    insurance_id INT,\n    eye_color STRING,\n    occupation STRING,\n    company STRING,\n    vehicle STRING,\n    domain STRING,\n    blood_type STRING,\n    weight NUMERIC (6, 2),\n    height NUMERIC (6, 2),\n    latitude NUMERIC (12, 8),\n    longitude NUMERIC (12, 8))\nROW FORMAT DELIMITED\nFIELDS TERMINATED BY ','\nLOCATION '/tenant/cloudsale/warehouse/tablespace/external/hive/cloudsale_stage.db/us_customer';\n\nALTER TABLE cloudsale_stage.us_customer\nSET TBLPROPERTIES (\"skip.header.line.count\"=\"1\");","user":"diego_deng","dateUpdated":"2022-04-03T16:17:44-0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"}]},"apps":[],"jobName":"paragraph_1649027541541_-80886901","id":"20191113-002418_175307041","dateCreated":"2022-04-03T16:12:21-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:125","dateFinished":"2022-04-03T16:17:45-0700","dateStarted":"2022-04-03T16:17:44-0700"},{"title":"7 - Create table cloudsale.ww_customer","text":"%jdbc(hive)\n\nDROP TABLE IF EXISTS cloudsale_stage.ww_customer;\n\nCREATE EXTERNAL TABLE cloudsale_stage.ww_customer(\n    customer_id INT,\n    title STRING,\n    first_name STRING,\n    middle_initial STRING,\n    last_name STRING,\n    name_set STRING,\n    address STRING,\n    city STRING,\n    state_code STRING,\n    state STRING,\n    zip_code STRING,\n    country_code STRING,\n    country STRING,\n    telephone_country_code STRING,\n    telephone STRING,\n    email STRING,\n    username STRING,\n    password STRING,\n    national_id STRING,\n    mrn STRING,\n    insurance_id INT,\n    cc_type STRING,\n    cc_number STRING,\n    cvv2 INT,\n    cc_expires STRING,\n    occupation STRING,\n    company STRING,\n    domain STRING,\n    vehicle STRING,\n    gender STRING,\n    mothers_maiden STRING,\n    birthday STRING,\n    tropical_zodiac STRING,\n    age INT,\n    eye_color STRING,\n    blood_type STRING,\n    weight NUMERIC (6, 2),\n    height NUMERIC (6, 2),\n    latitude NUMERIC (12, 8),\n    longitude NUMERIC (12, 8))\nROW FORMAT DELIMITED\nFIELDS TERMINATED BY ','\nLOCATION '/tenant/cloudsale/warehouse/tablespace/external/hive/cloudsale_stage.db/ww_customer';\n\nALTER TABLE cloudsale_stage.ww_customer\nSET TBLPROPERTIES (\"skip.header.line.count\"=\"1\");","user":"diego_deng","dateUpdated":"2022-04-03T16:17:53-0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"}]},"apps":[],"jobName":"paragraph_1649027541541_1117965736","id":"20191113-003110_460081162","dateCreated":"2022-04-03T16:12:21-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:126","dateFinished":"2022-04-03T16:17:54-0700","dateStarted":"2022-04-03T16:17:53-0700"},{"title":"8 - List cloudsale_stage tables","text":"%jdbc(hive)\n\nUSE cloudsale_stage;\nSHOW TABLES;\nDESCRIBE clouddev_stage.ww_customer;","user":"diego_deng","dateUpdated":"2022-04-03T16:18:18-0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"tab_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}},"1":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"tab_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}},"2":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"col_name":"string","data_type":"string","comment":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TABLE","data":"tab_name\nconsent_data\neu_country\nus_customer\nww_customer\n"},{"type":"TABLE","data":"col_name\tdata_type\tcomment\ncustomer_id\tint\t\ntitle\tstring\t\nfirst_name\tstring\t\nmiddle_initial\tstring\t\nlast_name\tstring\t\nname_set\tstring\t\naddress\tstring\t\ncity\tstring\t\nstate_code\tstring\t\nstate\tstring\t\nzip_code\tstring\t\ncountry_code\tstring\t\ncountry\tstring\t\ntelephone_country_code\tstring\t\ntelephone\tstring\t\nemail\tstring\t\nusername\tstring\t\npassword\tstring\t\nnational_id\tstring\t\nmrn\tstring\t\ninsurance_id\tint\t\ncc_type\tstring\t\ncc_number\tstring\t\ncvv2\tint\t\ncc_expires\tstring\t\noccupation\tstring\t\ncompany\tstring\t\ndomain\tstring\t\nvehicle\tstring\t\ngender\tstring\t\nmothers_maiden\tstring\t\nbirthday\tstring\t\ntropical_zodiac\tstring\t\nage\tint\t\neye_color\tstring\t\nblood_type\tstring\t\nweight\tdecimal(6,2)\t\nheight\tdecimal(6,2)\t\nlatitude\tdecimal(12,8)\t\nlongitude\tdecimal(12,8)\t\n"}]},"apps":[],"jobName":"paragraph_1649027541541_-271565162","id":"20220307-200717_2109501087","dateCreated":"2022-04-03T16:12:21-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:127","dateFinished":"2022-04-03T16:18:18-0700","dateStarted":"2022-04-03T16:18:17-0700"},{"title":"9 - Create Hive database for cloudsale","text":"%jdbc(hive)\n\nDROP DATABASE IF EXISTS cloudsale CASCADE;\n\nCREATE DATABASE IF NOT EXISTS cloudsale \nLOCATION '/tenant/cloudsale/warehouse/tablespace/external/hive';\n\nALTER DATABASE cloudsale SET MANAGEDLOCATION 'hdfs://my-name-service/tenant/cloudsale/warehouse/tablespace/managed/hive/cloudsale.db';\n\nUSE cloudsale;","user":"diego_deng","dateUpdated":"2022-04-03T16:18:33-0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"}]},"apps":[],"jobName":"paragraph_1649027541542_679380506","id":"20220307-195543_1956061021","dateCreated":"2022-04-03T16:12:21-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:128","dateFinished":"2022-04-03T16:18:34-0700","dateStarted":"2022-04-03T16:18:33-0700"},{"title":"10 - Create table cloudsale.consent_data","text":"%jdbc(hive)\n\nDROP TABLE IF EXISTS cloudsale.consent_data;\n\nCREATE TABLE cloudsale.consent_data(\n  country_code STRING,\n  country STRING,\n  insurance_id INT,\n  marketing_consent STRING,\n  marketing_consent_start_date DATE,\n  loyalty_consent STRING,\n  loyalty_consent_start_date DATE,\n  third_party_consent STRING,\n  third_party_consent_start_date DATE);\n\n","user":"diego_deng","dateUpdated":"2022-04-03T16:18:39-0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"}]},"apps":[],"jobName":"paragraph_1649027541542_699890941","id":"20211021-210748_475519673","dateCreated":"2022-04-03T16:12:21-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:129","dateFinished":"2022-04-03T16:18:40-0700","dateStarted":"2022-04-03T16:18:39-0700"},{"title":"11 - Create table cloudsale.eu_country","text":"%jdbc(hive)\n\nDROP TABLE IF EXISTS cloudsale.eu_country;\n\nCREATE TABLE cloudsale.eu_country(\n  country_name STRING,\n  country_code STRING,\n  region STRING);\n","user":"diego_deng","dateUpdated":"2022-04-03T16:18:43-0700","config":{"tableHide":false,"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"}]},"apps":[],"jobName":"paragraph_1649027541542_-1118122193","id":"20211021-210849_1344204994","dateCreated":"2022-04-03T16:12:21-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:130","dateFinished":"2022-04-03T16:18:43-0700","dateStarted":"2022-04-03T16:18:43-0700"},{"title":"12 - Create table cloudsale.us_customer","text":"%jdbc(hive)\n\nDROP TABLE IF EXISTS cloudsale.us_customer;\n\nCREATE TABLE cloudsale.us_customer(\n    customer_id INT,\n    gender STRING,\n    title STRING,\n    first_name STRING,\n    middle_initial STRING,\n    last_name STRING,\n    address STRING,\n    city STRING,\n    state_code STRING,\n    state STRING,\n    zip_code STRING,\n    country_code STRING,\n    country STRING,\n    email STRING,\n    username STRING,\n    password STRING,\n    telephone STRING,\n    telephone_country_code STRING,\n    mother_maiden STRING,\n    birthday DATE,\n    age INT,\n    tropical_zodiac STRING,\n    cc_type STRING,\n    cc_number STRING,\n    cvv2 INT,\n    cc_expires DATE,\n    national_id STRING,\n    mrn STRING,\n    insurance_id INT,\n    eye_color STRING,\n    occupation STRING,\n    company STRING,\n    vehicle STRING,\n    domain STRING,\n    blood_type STRING,\n    weight NUMERIC (6, 2),\n    height NUMERIC (6, 2),\n    latitude NUMERIC (12, 8),\n    longitude NUMERIC (12, 8));\n","user":"diego_deng","dateUpdated":"2022-04-03T16:18:48-0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"}]},"apps":[],"jobName":"paragraph_1649027541542_1821417093","id":"20211021-210948_2004798176","dateCreated":"2022-04-03T16:12:21-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:131","dateFinished":"2022-04-03T16:18:49-0700","dateStarted":"2022-04-03T16:18:48-0700"},{"title":"13 - Create table cloudsale.ww_customer","text":"%jdbc(hive)\n\nDROP TABLE IF EXISTS cloudsale.ww_customer;\n\nCREATE TABLE cloudsale.ww_customer(\n    customer_id INT,\n    title STRING,\n    first_name STRING,\n    middle_initial STRING,\n    last_name STRING,\n    name_set STRING,\n    address STRING,\n    city STRING,\n    state_code STRING,\n    state STRING,\n    zip_code STRING,\n    country_code STRING,\n    country STRING,\n    telephone_country_code STRING,\n    telephone STRING,\n    email STRING,\n    username STRING,\n    password STRING,\n    national_id STRING,\n    mrn STRING,\n    insurance_id INT,\n    cc_type STRING,\n    cc_number STRING,\n    cvv2 INT,\n    cc_expires STRING,\n    occupation STRING,\n    company STRING,\n    domain STRING,\n    vehicle STRING,\n    gender STRING,\n    mothers_maiden STRING,\n    birthday STRING,\n    tropical_zodiac STRING,\n    age INT,\n    eye_color STRING,\n    blood_type STRING,\n    weight NUMERIC (6, 2),\n    height NUMERIC (6, 2),\n    latitude NUMERIC (12, 8),\n    longitude NUMERIC (12, 8));\n","user":"diego_deng","dateUpdated":"2022-04-03T16:18:54-0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"}]},"apps":[],"jobName":"paragraph_1649027541543_-63741472","id":"20211021-211031_1961437585","dateCreated":"2022-04-03T16:12:21-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:132","dateFinished":"2022-04-03T16:18:55-0700","dateStarted":"2022-04-03T16:18:54-0700"},{"title":"14 - List cloudsale tables","text":"%jdbc(hive)\n\nUSE cloudsale;\nSHOW TABLES;\nDESCRIBE cloudsale.ww_customer;\n","user":"diego_deng","dateUpdated":"2022-04-03T16:19:17-0700","config":{"tableHide":false,"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"tab_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}},"1":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"tab_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}},"2":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"col_name":"string","data_type":"string","comment":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : 0"},{"type":"TABLE","data":"tab_name\nconsent_data\neu_country\nus_customer\nww_customer\n"},{"type":"TABLE","data":"col_name\tdata_type\tcomment\ncustomer_id\tint\t\ntitle\tstring\t\nfirst_name\tstring\t\nmiddle_initial\tstring\t\nlast_name\tstring\t\nname_set\tstring\t\naddress\tstring\t\ncity\tstring\t\nstate_code\tstring\t\nstate\tstring\t\nzip_code\tstring\t\ncountry_code\tstring\t\ncountry\tstring\t\ntelephone_country_code\tstring\t\ntelephone\tstring\t\nemail\tstring\t\nusername\tstring\t\npassword\tstring\t\nnational_id\tstring\t\nmrn\tstring\t\ninsurance_id\tint\t\ncc_type\tstring\t\ncc_number\tstring\t\ncvv2\tint\t\ncc_expires\tstring\t\noccupation\tstring\t\ncompany\tstring\t\ndomain\tstring\t\nvehicle\tstring\t\ngender\tstring\t\nmothers_maiden\tstring\t\nbirthday\tstring\t\ntropical_zodiac\tstring\t\nage\tint\t\neye_color\tstring\t\nblood_type\tstring\t\nweight\tdecimal(6,2)\t\nheight\tdecimal(6,2)\t\nlatitude\tdecimal(12,8)\t\nlongitude\tdecimal(12,8)\t\n"}]},"apps":[],"jobName":"paragraph_1649027541543_-1645286655","id":"20210503-000413_174249195","dateCreated":"2022-04-03T16:12:21-0700","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:133","dateFinished":"2022-04-03T16:19:17-0700","dateStarted":"2022-04-03T16:19:16-0700"},{"text":"%md\n\n# Reset\n","user":"diego_deng","dateUpdated":"2022-04-03T16:12:21-0700","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Reset</h1>\n"}]},"apps":[],"jobName":"paragraph_1649027541543_956668749","id":"20210503-201327_1691139602","dateCreated":"2022-04-03T16:12:21-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:134"},{"title":"A - Drop database cloudsale","text":"%jdbc(hive)\n\nDROP DATABASE IF EXISTS cloudsale CASCADE;\n","user":"diego_deng","dateUpdated":"2022-04-03T16:12:21-0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1649027541543_-154275747","id":"20210503-201344_78143625","dateCreated":"2022-04-03T16:12:21-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:135"},{"title":"B - Drop database cloudsale_stage","text":"%jdbc(hive)\n\nDROP DATABASE IF EXISTS cloudsale_stage CASCADE;\n","user":"diego_deng","dateUpdated":"2022-04-03T16:12:21-0700","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1649027541544_-799797762","id":"20220312-115507_1815962692","dateCreated":"2022-04-03T16:12:21-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:136"},{"title":"C - Delete data for cloudsale_stage","text":"%sh\n\necho 'BadPass@1' | su -l allan_admin -c 'hdfs dfs -rm -r -skipTrash /tenant/cloudsale/warehouse/tablespace/external/hive/cloudsale_stage.db'\n","user":"diego_deng","dateUpdated":"2022-04-03T16:12:21-0700","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1649027541544_789646432","id":"20220312-115530_508137186","dateCreated":"2022-04-03T16:12:21-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:137"},{"text":"%angular\n","user":"diego_deng","dateUpdated":"2022-04-03T16:12:21-0700","config":{"editorSetting":{"language":"scala","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1649027541544_1128950670","id":"20191113-001039_505978317","dateCreated":"2022-04-03T16:12:21-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:138"}],"name":"cloudsale/create_hive_database","id":"2H2S7A9J8","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"angular:shared_process":[],"sh:shared_process":[],"jdbc:shared_process":[],"livy:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}