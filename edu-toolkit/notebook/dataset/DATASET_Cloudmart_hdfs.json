{"paragraphs":[{"text":"%md\n# About This Lab\n**Objective:** Load the Cloudmart dataset into HDFS. The directory is /data/cloudmart. The HDFS data is required for the Cloudmart_hql\nand the Cloudmart_orc notebooks.\n**File locations:**\n    file:/var/edu/data/cloudmart\n    hdfs:/data/cloudmart\n**Successful outcome:**\n**Before you begin:**\n**Related lessons:** \n\nCopyright © 2010–2020 Cloudera. All rights reserved.\nNot to be reproduced or shared without prior written consent from Cloudera.\n\n---","user":"devuser","dateUpdated":"2021-06-11T02:13:36+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>About This Lab</h1>\n<p><strong>Objective:</strong> Load the Cloudmart dataset into HDFS. The directory is /data/cloudmart. The HDFS data is required for the Cloudmart_hql\n<br  />and the Cloudmart_orc notebooks.\n<br  /><strong>File locations:</strong></p>\n<pre><code>file:/var/edu/data/cloudmart\nhdfs:/data/cloudmart\n</code></pre>\n<p><strong>Successful outcome:</strong>\n<br  /><strong>Before you begin:</strong>\n<br  /><strong>Related lessons:</strong></p>\n<p>Copyright © 2010–2020 Cloudera. All rights reserved.\n<br  />Not to be reproduced or shared without prior written consent from Cloudera.</p>\n<hr />\n"}]},"apps":[],"jobName":"paragraph_1623374974360_-1655428113","id":"20171105-200834_1116095891","dateCreated":"2021-06-11T01:29:34+0000","dateStarted":"2021-06-11T02:13:36+0000","dateFinished":"2021-06-11T02:13:36+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:62877"},{"text":"%md\n# Load Cloudmart dataset in HDFS\n---","user":"devuser","dateUpdated":"2021-06-11T02:14:12+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Load Cloudmart dataset in HDFS</h1>\n<hr />\n"}]},"apps":[],"jobName":"paragraph_1623374974362_1343623549","id":"20181114-164229_902436001","dateCreated":"2021-06-11T01:29:34+0000","dateStarted":"2021-06-11T02:14:12+0000","dateFinished":"2021-06-11T02:14:12+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:62878"},{"title":"1 - List the data files","text":"%sh\n\nls /var/edu/data/cloudmart","user":"devuser","dateUpdated":"2021-06-11T02:21:34+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"call_center.dat\ncatalog_page.dat\ncatalog_returns.dat\ncatalog_sales.dat\ncustomer_address.dat\ncustomer.dat\ncustomer_demographics.dat\ndate_dim.dat\ndbgen_version.dat\nhousehold_demographics.dat\nincome_band.dat\ninventory.dat\nitem.dat\npromotion.dat\nreason.dat\nship_mode.dat\nstore.dat\nstore_returns.dat\nstore_sales.dat\ntime_dim.dat\nwarehouse.dat\nweb_page.dat\nweb_returns.dat\nweb_sales.dat\nweb_site.dat\n"}]},"apps":[],"jobName":"paragraph_1623374974362_-229308895","id":"20210503-191527_13273516","dateCreated":"2021-06-11T01:29:34+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:62879"},{"title":"2 - Create the directories into HDFS","text":"%sh\n\n# Delete previous directory\nhdfs dfs -rm -r -skipTrash /data/cloudmart\n\n# Make directories \nhdfs dfs -mkdir -p /data/cloudmart/call_center\nhdfs dfs -mkdir -p /data/cloudmart/catalog_page\nhdfs dfs -mkdir -p /data/cloudmart/catalog_returns\nhdfs dfs -mkdir -p /data/cloudmart/catalog_sales\nhdfs dfs -mkdir -p /data/cloudmart/customer\nhdfs dfs -mkdir -p /data/cloudmart/customer_address\nhdfs dfs -mkdir -p /data/cloudmart/customer_demographics\nhdfs dfs -mkdir -p /data/cloudmart/date_dim\nhdfs dfs -mkdir -p /data/cloudmart/household_demographics\nhdfs dfs -mkdir -p /data/cloudmart/income_band\nhdfs dfs -mkdir -p /data/cloudmart/inventory\nhdfs dfs -mkdir -p /data/cloudmart/item\nhdfs dfs -mkdir -p /data/cloudmart/promotion\nhdfs dfs -mkdir -p /data/cloudmart/reason\nhdfs dfs -mkdir -p /data/cloudmart/ship_mode\nhdfs dfs -mkdir -p /data/cloudmart/store\nhdfs dfs -mkdir -p /data/cloudmart/store_returns\nhdfs dfs -mkdir -p /data/cloudmart/store_sales\nhdfs dfs -mkdir -p /data/cloudmart/time_dim\nhdfs dfs -mkdir -p /data/cloudmart/warehouse\nhdfs dfs -mkdir -p /data/cloudmart/web_page\nhdfs dfs -mkdir -p /data/cloudmart/web_returns\nhdfs dfs -mkdir -p /data/cloudmart/web_sales\nhdfs dfs -mkdir -p /data/cloudmart/web_site\n\n# List the directories\nhdfs dfs -ls /data/cloudmart","user":"devuser","dateUpdated":"2021-06-11T02:16:06+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Deleted /data/cloudmart\nFound 24 items\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:25 /data/cloudmart/call_center\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:25 /data/cloudmart/catalog_page\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:25 /data/cloudmart/catalog_returns\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:25 /data/cloudmart/catalog_sales\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:25 /data/cloudmart/customer\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:25 /data/cloudmart/customer_address\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:25 /data/cloudmart/customer_demographics\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:26 /data/cloudmart/date_dim\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:26 /data/cloudmart/household_demographics\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:26 /data/cloudmart/income_band\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:26 /data/cloudmart/inventory\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:26 /data/cloudmart/item\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:26 /data/cloudmart/promotion\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:26 /data/cloudmart/reason\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:26 /data/cloudmart/ship_mode\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:26 /data/cloudmart/store\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:26 /data/cloudmart/store_returns\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:26 /data/cloudmart/store_sales\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:26 /data/cloudmart/time_dim\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:26 /data/cloudmart/warehouse\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:26 /data/cloudmart/web_page\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:26 /data/cloudmart/web_returns\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:26 /data/cloudmart/web_sales\ndrwxr-xr-x   - zeppelin hdfs          0 2021-06-10 02:26 /data/cloudmart/web_site\n"}]},"apps":[],"jobName":"paragraph_1623374974363_4332155","id":"20210503-152546_1267858630","dateCreated":"2021-06-11T01:29:34+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:62880"},{"title":"3 - Put the data into HDFS","text":"%sh\n\n# Put data into directories\nhdfs dfs -put -f  /var/edu/data/cloudmart/call_center.dat /data/cloudmart/call_center/call_center.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/catalog_page.dat /data/cloudmart/catalog_page/catalog_page.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/catalog_returns.dat /data/cloudmart/catalog_returns/catalog_returns.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/catalog_sales.dat /data/cloudmart/catalog_sales/catalog_sales.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/customer.dat /data/cloudmart/customer/customer.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/customer_address.dat /data/cloudmart/customer_address/customer_address.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/customer_demographics.dat /data/cloudmart/customer_demographics/customer_demographics.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/date_dim.dat /data/cloudmart/date_dim/date_dim.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/household_demographics.dat /data/cloudmart/household_demographics/household_demographics.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/income_band.dat /data/cloudmart/income_band/income_band.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/inventory.dat /data/cloudmart/inventory/inventory.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/item.dat /data/cloudmart/item/item.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/promotion.dat /data/cloudmart/promotion/promotion.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/reason.dat /data/cloudmart/reason/reason.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/ship_mode.dat /data/cloudmart/ship_mode/ship_mode.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/store.dat /data/cloudmart/store/store.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/store_returns.dat /data/cloudmart/store_returns/store_returns.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/store_sales.dat /data/cloudmart/store_sales/store_sales.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/time_dim.dat /data/cloudmart/time_dim/time_dim.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/warehouse.dat /data/cloudmart/warehouse/warehouse.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/web_page.dat /data/cloudmart/web_page/web_page.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/web_returns.dat /data/cloudmart/web_returns/web_returns.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/web_sales.dat /data/cloudmart/web_sales/web_sales.dat\nhdfs dfs -put -f  /var/edu/data/cloudmart/web_site.dat /data/cloudmart/web_site/web_site.dat\n\n\nhdfs dfs -chown -R hive /data/cloudmart\n\n# List one directory\nhdfs dfs -ls /data/cloudmart/customer\n","user":"devuser","dateUpdated":"2021-06-11T02:23:36+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Found 1 items\n-rw-r--r--   3 zeppelin hdfs   13209372 2021-06-10 02:27 /data/cloudmart/customer/customer.dat\n"}]},"apps":[],"jobName":"paragraph_1623374974363_1472432184","id":"20210503-192356_1138068010","dateCreated":"2021-06-11T01:29:34+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:62881"},{"title":"4 - Change ownership to the user hive","text":"%sh\n\nsudo -u hdfs hdfs dfs -chown -R hive:hive /data/cloudmart\nhdfs dfs -ls /data/cloudmart","user":"devuser","dateUpdated":"2021-06-11T02:15:47+0000","config":{"tableHide":false,"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"results":{},"enabled":true,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Found 24 items\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/call_center\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/catalog_page\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/catalog_returns\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/catalog_sales\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/customer\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/customer_address\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/customer_demographics\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/date_dim\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/household_demographics\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/income_band\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/inventory\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/item\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/promotion\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/reason\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/ship_mode\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/store\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/store_returns\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/store_sales\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/time_dim\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/warehouse\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/web_page\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/web_returns\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/web_sales\ndrwxr-xr-x   - hive hive          0 2021-06-10 02:27 /data/cloudmart/web_site\n"}]},"apps":[],"jobName":"paragraph_1623374974363_-206487259","id":"20210610-025545_1280585750","dateCreated":"2021-06-11T01:29:34+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:62882"},{"text":"%md\n\n## Reset\n","user":"devuser","dateUpdated":"2021-06-11T01:29:34+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Reset</h2>\n"}]},"apps":[],"jobName":"paragraph_1623374974371_-477495012","id":"20210503-194519_536260495","dateCreated":"2021-06-11T01:29:34+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:62883"},{"title":"1 - Delete the Cloudmart data in HDFS","text":"%sh\n\nsudo -u hdfs hdfs dfs -rm -r -skipTrash /data/cloudmart\n\n","user":"devuser","dateUpdated":"2021-06-11T02:16:48+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Deleted /data/cloudmart\n"}]},"apps":[],"jobName":"paragraph_1623374974371_141042781","id":"20210503-194611_2005949396","dateCreated":"2021-06-11T01:29:34+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:62884"},{"title":"Additional resources","text":"%md\nWe hope you've enjoyed this lab. Below are additional resources that you should find useful:\n\n1. [Cloudera Tutorials](http://cloudera.com/tutorials.html) are your natural next step where you can explore Spark in more depth.\n2. [Cloudera Community](https://community.cloudera.com) is a great resource for questions and answers on Spark, Data Analytics/Science, and many more Big Data topics.\n3. [Apache Spark Documentation](https://spark.apache.org/documentation.html) - official Spark documentation.\n4. [Apache Zeppelin Project Home Page](https://zeppelin.apache.org) - official Zeppelin web site.","user":"devuser","dateUpdated":"2021-06-11T01:29:34+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":10,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>We hope you've enjoyed this lab. Below are additional resources that you should find useful:</p>\n<ol>\n<li><a href=\"http://cloudera.com/tutorials.html\">Cloudera Tutorials</a> are your natural next step where you can explore Spark in more depth.</li>\n<li><a href=\"https://community.cloudera.com\">Cloudera Community</a> is a great resource for questions and answers on Spark, Data Analytics/Science, and many more Big Data topics.</li>\n<li><a href=\"https://spark.apache.org/documentation.html\">Apache Spark Documentation</a> - official Spark documentation.</li>\n<li><a href=\"https://zeppelin.apache.org\">Apache Zeppelin Project Home Page</a> - official Zeppelin web site.</li>\n</ol>\n"}]},"apps":[],"jobName":"paragraph_1623374974372_-23039620","id":"20181116-135131_93712280","dateCreated":"2021-06-11T01:29:34+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:62885"},{"text":"%angular\n</br>\n</br>\n</br>\n</br>\n<center>\n<a href=\"https://www.cloudera.com/about/training/courses.html\">\n  <img src=\"https://www.cloudera.com/content/dam/www/marketing/media-kit/logo-assets/cloudera_logo_darkorange.png\" alt=\"Cloudera University\" style=\"width:280px;height:40px;border:0;\" align=\"middle\">\n</a>\n</center>\n</br>\n</br>","user":"devuser","dateUpdated":"2021-06-11T01:29:34+0000","config":{"tableHide":false,"editorSetting":{"language":"scala","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":2,"editorMode":"ace/mode/undefined","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"ANGULAR","data":"</br>\n</br>\n</br>\n</br>\n<center>\n<a href=\"https://www.cloudera.com/about/training/courses.html\">\n  <img src=\"https://www.cloudera.com/content/dam/www/marketing/media-kit/logo-assets/cloudera_logo_darkorange.png\" alt=\"Cloudera University\" style=\"width:280px;height:40px;border:0;\" align=\"middle\">\n</a>\n</center>\n</br>\n</br>"}]},"apps":[],"jobName":"paragraph_1623374974372_-188341052","id":"20200110-154537_1406191376","dateCreated":"2021-06-11T01:29:34+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:62886"},{"text":"%angular\n","user":"devuser","dateUpdated":"2021-06-11T01:29:34+0000","config":{"tableHide":false,"editorSetting":{"language":"scala","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1623374974372_-1360562655","id":"20200110-162013_302547143","dateCreated":"2021-06-11T01:29:34+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:62887"}],"name":"DATASET/Cloudmart_hdfs","id":"2G7K7RF21","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"psql:shared_process":[],"angular:shared_process":[],"sh:shared_process":[],"jdbc:shared_process":[],"spark2:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}