{"paragraphs":[{"text":"%md\n# About\n\n**Lab:** Configuring HDFS Storage Policies\n**Objective:** Assign the DISK storage type to DataNodes disks and assign a storage policy to an HDFS directory\n**File Locations:** N/A\n**Successful Outcome:** The DISK storage type is assigned to the DataNode disks and the WARM storage policy is assigned to /user/root/warmdata. \n**Before You Begin:** Start and connect to your classroom lab environment\n**Related Lesson:** Configuring Heterogeneous HDFS Storage\n\n---","user":"devuser","dateUpdated":"2020-05-02T21:13:03+0000","config":{"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588453776506_-1652448650","id":"20200501-214558_1717013358","dateCreated":"2020-05-02T21:09:36+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:11822"},{"text":"%md\n# Setup","user":"devuser","dateUpdated":"2020-05-02T21:09:36+0000","config":{"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588453776507_-786638220","id":"20200501-215036_1976291396","dateCreated":"2020-05-02T21:09:36+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:11823"},{"text":"%md\n# Lab","user":"devuser","dateUpdated":"2020-05-02T21:09:36+0000","config":{"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588453776508_-987043323","id":"20200501-215049_96830641","dateCreated":"2020-05-02T21:09:36+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:11824"},{"text":"%md\n### Create an HDFS directory and data to use in the lab exercise","user":"devuser","dateUpdated":"2020-05-02T21:18:41+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454206470_2039315638","id":"20200502-211646_1291602914","dateCreated":"2020-05-02T21:16:46+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11825"},{"title":"1 - Create a directory in HDFS","text":"%md\nUse HDFS command-line commands to create a `warmdata` directory in the root user's HDFS home directory. Verify that the directory was created.","user":"devuser","dateUpdated":"2020-05-03T00:28:16+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454205739_-1742740901","id":"20200502-211645_1704347950","dateCreated":"2020-05-02T21:16:45+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11826"},{"text":"%sh\nhdfs dfs -mkdir /user/root/warmdata\nhdfs dfs -ls /user/root","user":"devuser","dateUpdated":"2020-05-02T21:20:58+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"editorMode":"ace/mode/sh"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454204909_-1645117669","id":"20200502-211644_186300855","dateCreated":"2020-05-02T21:16:44+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11827"},{"title":"2 - Copy data into the directory","text":"%md\nCopy the local /etc/passwd file into the new HDFS warmdata directory. Verify that the file was copied.","user":"devuser","dateUpdated":"2020-05-03T00:28:19+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454203748_437355262","id":"20200502-211643_767300816","dateCreated":"2020-05-02T21:16:43+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11828"},{"text":"%sh\nhdfs dfs -put /etc/passwd /user/root/warmdata\nhdfs dfs -ls /user/root/warmdata","user":"devuser","dateUpdated":"2020-05-02T21:21:43+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"editorMode":"ace/mode/sh"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454203066_1408291866","id":"20200502-211643_1849033427","dateCreated":"2020-05-02T21:16:43+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11829"},{"text":"%md\n### Assign the DISK storage type label to the DataNode disks using the Ambari Web UI\n\nNOTE: The lab environment has five DataNodes, which will all share the same storage type label configuration. This means that it is not technically necessary to create a new HDFS configuration group in order to add storage type labels to the DataNodes. However, because in the real world this is how different sets of DataNodes would be configured with different storage type labels, it is done in the lab to enable you to practice to necessary configuration steps. Also, DISK is the default storage type but once again, it is explicitly assigned to the DataNode disks in the lab to practice the configuration steps.\n\nOpen the browser and connect to the [Ambari Server](http://<Ambari Server Hostname>:8080).\n\n*** !!! Link isn't valid !!! ***","user":"devuser","dateUpdated":"2020-05-02T23:39:43+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454202436_-2101985666","id":"20200502-211642_1020055554","dateCreated":"2020-05-02T21:16:42+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11830"},{"title":"3 - Log in to the Ambari web UI","text":"%md\nLogin to the Ambari Web UI using the user name `admin` and the password `BadPass#1`.","user":"devuser","dateUpdated":"2020-05-03T00:28:23+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454201611_-952985232","id":"20200502-211641_800733112","dateCreated":"2020-05-02T21:16:41+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11831"},{"title":"4 - Open the Settings menu","text":"%md\nBrowse to **Services** > **HDFS** > **Configs** > **Settings**.\n\n*** !!! Image here !!! ***","user":"devuser","dateUpdated":"2020-05-03T00:28:29+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454200982_1665637790","id":"20200502-211640_399088255","dateCreated":"2020-05-02T21:16:40+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11832"},{"title":"5 - Open the Configuration Groups window","text":"%md\nClick **Manage Config Groups** to open the Manage HDFS Configuration Groups window. \n\n*** !!! Image here !!! ***","user":"devuser","dateUpdated":"2020-05-03T00:28:33+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454200328_-1088651036","id":"20200502-211640_1707272166","dateCreated":"2020-05-02T21:16:40+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11833"},{"title":"6 - Create a new HDFS configuration group","text":"%md\nClick the left-hand side plus icon in the Manage HDFS Configuration Groups window to create a new HDFS configuration group.\n\n*** !!! Image here !!! ***","user":"devuser","dateUpdated":"2020-05-03T00:28:37+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454199700_-949991292","id":"20200502-211639_1393732893","dateCreated":"2020-05-02T21:16:39+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11834"},{"title":"7 - Name the configuration group","text":"%md\nType the name `NonArchiveDataNodes` and optionally enter a description for the new HDFS configuration group, then click **OK**.\n\n*** !!! Image here !!! ***","user":"devuser","dateUpdated":"2020-05-03T00:28:41+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454198863_1693993118","id":"20200502-211638_1781132791","dateCreated":"2020-05-02T21:16:38+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11835"},{"title":"8 - Add DataNodes to the new configuration group","text":"%md\nClick **NonArchiveDataNodes** and then click the right-hand side plus icon to add DataNodes to the new HDFS configuration group.\n\n*** !!! Image here !!! ***","user":"devuser","dateUpdated":"2020-05-03T00:28:47+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454198047_993192596","id":"20200502-211638_1231322835","dateCreated":"2020-05-02T21:16:38+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11836"},{"title":"9 - Add all nodes to the configuration group","text":"%md\nSelect the check boxes for **all your nodes** to add them to the NonArchiveDataNodes configuration group. Then click **OK**.\n\n*** !!! Image here !!! ***","user":"devuser","dateUpdated":"2020-05-03T00:28:50+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454197224_628278083","id":"20200502-211637_211373153","dateCreated":"2020-05-02T21:16:37+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11837"},{"title":"10 - Save the changes to the configuration groups","text":"%md\nView the result and then click **Save**.\n\n*** !!! Image here !!! ***","user":"devuser","dateUpdated":"2020-05-03T00:28:54+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454196535_1985900027","id":"20200502-211636_1598809221","dateCreated":"2020-05-02T21:16:36+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11838"},{"title":"11 - Select the new group in the Group drop-down menu","text":"%md\nEnsure that the **NonArchiveDataNodes** group is selected in the **Group** drop-down menu. This ensures that the upcoming configuration change is applied to the `/etc/hadoop/conf/hdfs-site.xml` file on the correct DataNodes.\n\n*** !!! Image here !!! ***","user":"devuser","dateUpdated":"2020-05-03T00:28:59+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454195906_1671904665","id":"20200502-211635_1449175067","dateCreated":"2020-05-02T21:16:35+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11839"},{"title":"12 - Override the DataNode directories property","text":"%md\nIn the DataNode section, find the **DataNode directories** property. Click the **Override** icon to associate the change with the DataNodes assigned to a specific configuration group.  (You will need to hover the mouse pointer or click the text box for the **Override** icon to appear.)\n\n*** !!! Image here !!! ***","user":"devuser","dateUpdated":"2020-05-03T00:29:05+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454195361_-1110786295","id":"20200502-211635_269309145","dateCreated":"2020-05-02T21:16:35+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11840"},{"title":"13 - Modify the directory path to include disk storage","text":"%md\nIn the lower and initially red-colored property text box, modify the directory path value by prepending the storage type label `[DISK]`.\n\n*** !!! Image here !!! ***","user":"devuser","dateUpdated":"2020-05-03T00:29:10+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454194633_-852970286","id":"20200502-211634_695493137","dateCreated":"2020-05-02T21:16:34+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11841"},{"title":"14 - Save the configuration changes","text":"%md\nAmbari will associate additional configuration change as shown in blue. Click **Save** to save the configuration change.\n\n*** !!! Image here !!! ***","user":"devuser","dateUpdated":"2020-05-03T00:29:14+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454194006_390238116","id":"20200502-211634_1789766188","dateCreated":"2020-05-02T21:16:34+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11842"},{"title":"15 - Confirm the configuration changes","text":"%md\nIn the Save Configuration Changes window, click **OK**.\n\n*** !!! Image here !!! ***","user":"devuser","dateUpdated":"2020-05-03T00:29:18+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454193292_403607583","id":"20200502-211633_606972667","dateCreated":"2020-05-02T21:16:33+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11843"},{"title":"16 - Approve required changes","text":"%md\nAmbari will display \"Dependent Configuration\" pop up window with \"Required Changes\". Review changes and click **OK**.\n\n*** !!! Image here !!! ***","user":"devuser","dateUpdated":"2020-05-03T00:29:21+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454192539_1024999586","id":"20200502-211632_1428167851","dateCreated":"2020-05-02T21:16:32+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11844"},{"title":"17 - Restart any indicated services","text":"%md\nRestart any services indicated in the Ambari Web UI.\n\n*** !!! image here !!! ***","user":"devuser","dateUpdated":"2020-05-03T00:29:29+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454191619_117656481","id":"20200502-211631_1368850142","dateCreated":"2020-05-02T21:16:31+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11845"},{"text":"%md\n### Assign a storage policy to an HDFS directory","user":"devuser","dateUpdated":"2020-05-02T23:38:51+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454190713_1006137123","id":"20200502-211630_1921983747","dateCreated":"2020-05-02T21:16:30+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11846"},{"title":"18 - List the storage policies in HDFS","text":"%md\nList the storage policies available in HDFS.","user":"devuser","dateUpdated":"2020-05-03T00:29:35+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454189822_1321990024","id":"20200502-211629_840145345","dateCreated":"2020-05-02T21:16:29+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11847"},{"text":"%sh\nhdfs storagepolicies -listPolicies","user":"devuser","dateUpdated":"2020-05-02T21:53:31+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"editorMode":"ace/mode/sh"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454188900_-858653892","id":"20200502-211628_1487761711","dateCreated":"2020-05-02T21:16:28+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11848"},{"text":"%md\nHow many storage policies are listed?\nWhat are their names?\nFor the storage policy `ALL_SSD`, what type of storage is used to write the first data block if there is no available space left on the SSD device?","user":"devuser","dateUpdated":"2020-05-02T21:53:57+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454188021_-1185154811","id":"20200502-211628_2020382276","dateCreated":"2020-05-02T21:16:28+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11849"},{"title":"19 - Assign the WARM policy","text":"%md\nAssign the WARM storage policy to the data in the `/user/root/warmdata` directory.","user":"devuser","dateUpdated":"2020-05-03T00:29:41+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454187248_-1887145513","id":"20200502-211627_1099259455","dateCreated":"2020-05-02T21:16:27+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11850"},{"text":"%sh\nhdfs storagepolicies -setStoragePolicy -path /user/root/warmdata -policy WARM","user":"devuser","dateUpdated":"2020-05-02T21:54:42+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"editorMode":"ace/mode/sh"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454186563_-73002504","id":"20200502-211626_195429631","dateCreated":"2020-05-02T21:16:26+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11851"},{"text":"%md\nDid the command report any failure message? It should not have.","user":"devuser","dateUpdated":"2020-05-02T21:54:49+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454185855_-93942090","id":"20200502-211625_1689680933","dateCreated":"2020-05-02T21:16:25+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11852"},{"title":"20 - Confirm the policy was assigned","text":"%md\nList the storage policy assigned to the `/user/root/warmdata` directory.","user":"devuser","dateUpdated":"2020-05-03T00:29:45+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454185136_-1906609155","id":"20200502-211625_1807665549","dateCreated":"2020-05-02T21:16:25+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11853"},{"text":"%sh\nhdfs storagepolicies -getStoragePolicy -path /user/root/warmdata","user":"devuser","dateUpdated":"2020-05-02T21:55:19+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"editorMode":"ace/mode/sh"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454184225_341462266","id":"20200502-211624_1553293212","dateCreated":"2020-05-02T21:16:24+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11854"},{"text":"%md\nWhat policy is assigned to the directory? \nWhy do you think the storage policy assignment failed?","user":"devuser","dateUpdated":"2020-05-02T21:55:29+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454180802_1249580181","id":"20200502-211620_1492733601","dateCreated":"2020-05-02T21:16:20+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11855"},{"title":"21 - Attempt to assign a storage policy as the superuser","text":"%md\nBecome the HDFS superuser and once again attempt to assign the WARM storage policy to the `/user/root/warmdata` directory.","user":"devuser","dateUpdated":"2020-05-03T00:29:50+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454180245_-1427121855","id":"20200502-211620_1179876707","dateCreated":"2020-05-02T21:16:20+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11856"},{"text":"%sh\nsu - hdfs\nhdfs storagepolicies -setStoragePolicy -path /user/root/warmdata -policy WARM","user":"devuser","dateUpdated":"2020-05-02T21:55:55+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"editorMode":"ace/mode/sh"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454179685_138202932","id":"20200502-211619_2086988791","dateCreated":"2020-05-02T21:16:19+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11857"},{"title":"22 - Determine if the policy was assigned","text":"%md\nList the storage policy assigned to the `/user/root/warmdata` directory.","user":"devuser","dateUpdated":"2020-05-03T00:29:56+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454179138_1939313684","id":"20200502-211619_111301604","dateCreated":"2020-05-02T21:16:19+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11858"},{"text":"%sh\nhdfs storagepolicies -getStoragePolicy -path /user/root/warmdata","user":"devuser","dateUpdated":"2020-05-02T21:56:18+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"editorMode":"ace/mode/sh"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454178538_-1538538328","id":"20200502-211618_619589443","dateCreated":"2020-05-02T21:16:18+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11859"},{"text":"%md\nDid the command work this time? It should have.","user":"devuser","dateUpdated":"2020-05-02T21:56:28+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454177853_-1336117833","id":"20200502-211617_1193675254","dateCreated":"2020-05-02T21:16:17+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11860"},{"title":"23 - Remain logged in as the superuser","text":"%md\nRemain logged in with HDFS superuser privileges.","user":"devuser","dateUpdated":"2020-05-03T00:30:00+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454177140_-1241347686","id":"20200502-211617_2117677824","dateCreated":"2020-05-02T21:16:17+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11861"},{"text":"%md\n### Examine the disk locations and storage types for data blocks controlled by a storage policy.","user":"devuser","dateUpdated":"2020-05-02T23:38:12+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454176493_-1260128746","id":"20200502-211616_948157699","dateCreated":"2020-05-02T21:16:16+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11862"},{"title":"24 - Display block locations and storage types","text":"%md\nRun the HDFS `fsck` utility to display the block locations and their storage types for the `/user/root/warmdata/passwd` file.     ","user":"devuser","dateUpdated":"2020-05-03T00:30:03+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454175785_-28844543","id":"20200502-211615_1267676212","dateCreated":"2020-05-02T21:16:15+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11863"},{"text":"%sh\nhdfs fsck /user/root/warmdata/passwd -files -blocks -locations","user":"devuser","dateUpdated":"2020-05-02T21:57:36+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"editorMode":"ace/mode/sh"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454175029_52494312","id":"20200502-211615_283152037","dateCreated":"2020-05-02T21:16:15+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11864"},{"text":"%md\nWhat are the storage types listed for the file's data block replicas?\nRemember that while the data blocks appear, and actually are, on the correct storage types, this is only because there are no other storage types available. In the real world where there might be multiple DataNodes offering various storage types, the data blocks might have to be moved to the appropriate storage types after assigning a new storage policy.\n","user":"devuser","dateUpdated":"2020-05-02T22:04:24+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588454174061_-401893346","id":"20200502-211614_2104350471","dateCreated":"2020-05-02T21:16:14+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11865"},{"title":"25 - Return to normal root user privileges","text":"%md\nUse the `exit` command to return to normal root user privileges.","user":"devuser","dateUpdated":"2020-05-03T00:30:08+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588456673313_627387513","id":"20200502-215753_1332343842","dateCreated":"2020-05-02T21:57:53+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11866"},{"text":"%sh\nexit","user":"devuser","dateUpdated":"2020-05-02T21:58:18+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"editorMode":"ace/mode/sh"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588456672759_41377444","id":"20200502-215752_399011483","dateCreated":"2020-05-02T21:57:52+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11867"},{"text":"%md\n### To simplify HDFS configuration in future labs, revert the HDFS configuration back to a single Default Configuration Group.","user":"devuser","dateUpdated":"2020-05-02T23:37:54+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588456672266_-1397486571","id":"20200502-215752_980900892","dateCreated":"2020-05-02T21:57:52+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11868"},{"title":"26 - Open the Configs menu","text":"%md\nIn the Ambari Web UI, browse to **Services** > **HDFS** > **Configs**.\n\n*** !!! Image here !!! ***","user":"devuser","dateUpdated":"2020-05-03T00:30:12+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588456671694_1914394113","id":"20200502-215751_905078173","dateCreated":"2020-05-02T21:57:51+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11869"},{"title":"27 - Open the window to manage configuration groups","text":"%md\nOpen the **Config Group** drop-down menu in the upper-right and select **Manage Config Groups**.\n\n*** !!! Image here !!! ***","user":"devuser","dateUpdated":"2020-05-03T00:30:16+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588456671133_-82096390","id":"20200502-215751_1798637665","dateCreated":"2020-05-02T21:57:51+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11870"},{"title":"28 - Remove all nodes from the group created earlier","text":"%md\nIn the Manage HDFS Configuration Groups window, click to select the **NonArchiveDataNodes** group. Then using your Shift key and the mouse pointer, select all three nodes in the NonArchiveDataNodes group. Then click the right-hand side minus button to remove the nodes from the group. \n\n*** !!! Image here !!! ***","user":"devuser","dateUpdated":"2020-05-03T00:30:20+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588456670597_2013735809","id":"20200502-215750_1257083281","dateCreated":"2020-05-02T21:57:50+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11871"},{"title":"29 - Remove the configuration group","text":"%md\nEnsure that the **NonArchiveDataNodes** group is selected and then click the left-hand side minus button to remove the configuration group.\n\n*** !!! Image here !!! ***","user":"devuser","dateUpdated":"2020-05-03T00:30:26+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588456670033_-1338719486","id":"20200502-215750_1028257745","dateCreated":"2020-05-02T21:57:50+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11872"},{"title":"30 - Confirm the removal of the configuration group","text":"%md\nIn the Confirmation window, click **OK**.","user":"devuser","dateUpdated":"2020-05-03T00:30:30+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588456669332_884158756","id":"20200502-215749_1261297107","dateCreated":"2020-05-02T21:57:49+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11873"},{"title":"31 - Ensure that all nodes are reassigned to the Default group","text":"%md\nView the result, which should be your nodes are reassigned to the HDFS Default group. Then click **Save**.\n\n*** !!! Image here !!! ***","user":"devuser","dateUpdated":"2020-05-03T00:30:34+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588456668488_324305908","id":"20200502-215748_2014501400","dateCreated":"2020-05-02T21:57:48+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11874"},{"title":"32 - Restart services indicated in Ambari","text":"%md\nRestart all services indicated in the Ambari Web UI.\n\n*** !!! Image here !!! ***","user":"devuser","dateUpdated":"2020-05-03T00:30:37+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588456667709_-1483295315","id":"20200502-215747_1207490028","dateCreated":"2020-05-02T21:57:47+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:11875"},{"text":"%md\n# Result\n\n**You have now:** The HDFS configuration group NonArchiveDataNodes contained your nodes and was used to assign the DISK storage type to the DataNode disks. The storage policy WARM was assigned to the HDFS directory `/user/root/warmdata`. At the end of the lab the HDFS NonArchiveDataNodes configuration group should be deleted and all DataNodes should be assigned to the HDFS Default configuration group.","user":"devuser","dateUpdated":"2020-05-02T22:02:35+0000","config":{"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1588453776509_1850287532","id":"20200501-215114_1780935962","dateCreated":"2020-05-02T21:09:36+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:11876"}],"name":"/ENTR/HDFSStoragePolicies","id":"2F8G5JV79","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"angular:shared_process":[],"sh:shared_process":[],"jdbc:shared_process":[],"spark2:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}